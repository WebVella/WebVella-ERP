import{h}from"../wv-pb-manager.core.js";import{a as setNodeCreation,b as addNode,c as addReloadNodeIds,d as _,e as setHelpModalState,f as setOptionsModalState,g as updateNodeOptions,h as removeNode,i as SET_DRAKE,j as ADD_DRAKE_CONTAINER_ID,k as SET_ACTIVE_NODE,l as HOVER_NODE,m as HOVER_CONTAINER,n as SET_NODE_CREATION,o as ADD_NODE,p as REMOVE_NODE,q as UPDATE_NODE_OPTIONS,r as UPDATE_PAGE_NODES,s as SET_OPTIONS_MODAL_STATE,t as SET_HELP_MODAL_STATE,u as ADD_RELOAD_NODE_IDS,v as REMOVE_RELOAD_NODE_IDS,w as commonjsGlobal,x as setDrake,y as updatePageNodes,z as removeReloadNodeIds,A as addDrakeContainerId,B as hoverContainer,C as hoverNode,D as setActiveNode}from"./chunk-3437f53a.js";var bind=function(e,t){return function(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];return e.apply(t,n)}},isBuffer_1=function(e){return null!=e&&(isBuffer(e)||isSlowBuffer(e)||!!e._isBuffer)};function isBuffer(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function isSlowBuffer(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&isBuffer(e.slice(0,0))}var toString=Object.prototype.toString;function isArray(e){return"[object Array]"===toString.call(e)}function isArrayBuffer(e){return"[object ArrayBuffer]"===toString.call(e)}function isFormData(e){return"undefined"!=typeof FormData&&e instanceof FormData}function isArrayBufferView(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function isString(e){return"string"==typeof e}function isNumber(e){return"number"==typeof e}function isUndefined(e){return void 0===e}function isObject(e){return null!==e&&"object"==typeof e}function isDate(e){return"[object Date]"===toString.call(e)}function isFile(e){return"[object File]"===toString.call(e)}function isBlob(e){return"[object Blob]"===toString.call(e)}function isFunction(e){return"[object Function]"===toString.call(e)}function isStream(e){return isObject(e)&&isFunction(e.pipe)}function isURLSearchParams(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}function trim(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function isStandardBrowserEnv(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document}function forEach(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),isArray(e))for(var n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}function merge(){var e={};function t(t,n){e[n]="object"==typeof e[n]&&"object"==typeof t?merge(e[n],t):t}for(var n=0,o=arguments.length;n<o;n++)forEach(arguments[n],t);return e}function extend(e,t,n){return forEach(t,function(t,o){e[o]=n&&"function"==typeof t?bind(t,n):t}),e}var utils={isArray:isArray,isArrayBuffer:isArrayBuffer,isBuffer:isBuffer_1,isFormData:isFormData,isArrayBufferView:isArrayBufferView,isString:isString,isNumber:isNumber,isObject:isObject,isUndefined:isUndefined,isDate:isDate,isFile:isFile,isBlob:isBlob,isFunction:isFunction,isStream:isStream,isURLSearchParams:isURLSearchParams,isStandardBrowserEnv:isStandardBrowserEnv,forEach:forEach,merge:merge,extend:extend,trim:trim},global$1="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}var cachedSetTimeout=defaultSetTimout,cachedClearTimeout=defaultClearTimeout;function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}"function"==typeof global$1.setTimeout&&(cachedSetTimeout=setTimeout),"function"==typeof global$1.clearTimeout&&(cachedClearTimeout=clearTimeout);var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function nextTick(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)}function Item(e,t){this.fun=e,this.array=t}Item.prototype.run=function(){this.fun.apply(null,this.array)};var title="browser",platform="browser",browser=!0,env={},argv=[],version="",versions={},release={},config={};function noop(){}var on=noop,addListener=noop,once=noop,off=noop,removeListener=noop,removeAllListeners=noop,emit=noop;function binding(e){throw new Error("process.binding is not supported")}function cwd(){return"/"}function chdir(e){throw new Error("process.chdir is not supported")}function umask(){return 0}var performance=global$1.performance||{},performanceNow=performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow||function(){return(new Date).getTime()};function hrtime(e){var t=.001*performanceNow.call(performance),n=Math.floor(t),o=Math.floor(t%1*1e9);return e&&(n-=e[0],(o-=e[1])<0&&(n--,o+=1e9)),[n,o]}var startTime=new Date;function uptime(){return(new Date-startTime)/1e3}var process={nextTick:nextTick,title:title,browser:browser,env:env,argv:argv,version:version,versions:versions,on:on,addListener:addListener,once:once,off:off,removeListener:removeListener,removeAllListeners:removeAllListeners,emit:emit,binding:binding,cwd:cwd,chdir:chdir,umask:umask,hrtime:hrtime,platform:platform,release:release,config:config,uptime:uptime},normalizeHeaderName=function(e,t){utils.forEach(e,function(n,o){o!==t&&o.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[o])})},enhanceError=function(e,t,n,o,a){return e.config=t,n&&(e.code=n),e.request=o,e.response=a,e},createError=function(e,t,n,o,a){var r=new Error(e);return enhanceError(r,t,n,o,a)},settle=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(createError("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)};function encode(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(utils.isURLSearchParams(t))o=t.toString();else{var a=[];utils.forEach(t,function(e,t){null!=e&&(utils.isArray(e)?t+="[]":e=[e],utils.forEach(e,function(e){utils.isDate(e)?e=e.toISOString():utils.isObject(e)&&(e=JSON.stringify(e)),a.push(encode(t)+"="+encode(e))}))}),o=a.join("&")}return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e},ignoreDuplicateOf=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],parseHeaders=function(e){var t,n,o,a={};return e?(utils.forEach(e.split("\n"),function(e){if(o=e.indexOf(":"),t=utils.trim(e.substr(0,o)).toLowerCase(),n=utils.trim(e.substr(o+1)),t){if(a[t]&&ignoreDuplicateOf.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}}),a):a},isURLSameOrigin=utils.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var o=e;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=utils.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0},chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function E(){this.message="String contains an invalid character"}function btoa(e){for(var t,n,o=String(e),a="",r=0,i=chars;o.charAt(0|r)||(i="=",r%1);a+=i.charAt(63&t>>8-r%1*8)){if((n=o.charCodeAt(r+=.75))>255)throw new E;t=t<<8|n}return a}E.prototype=new Error,E.prototype.code=5,E.prototype.name="InvalidCharacterError";var btoa_1=btoa,cookies=utils.isStandardBrowserEnv()?{write:function(e,t,n,o,a,r){var i=[];i.push(e+"="+encodeURIComponent(t)),utils.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),utils.isString(o)&&i.push("path="+o),utils.isString(a)&&i.push("domain="+a),!0===r&&i.push("secure"),document.cookie=i.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},btoa$1="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||btoa_1,xhr=function(e){return new Promise(function(t,n){var o=e.data,a=e.headers;utils.isFormData(o)&&delete a["Content-Type"];var r=new XMLHttpRequest,i="onreadystatechange",s=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in r||isURLSameOrigin(e.url)||(r=new window.XDomainRequest,i="onload",s=!0,r.onprogress=function(){},r.ontimeout=function(){}),e.auth&&(a.Authorization="Basic "+btoa$1((e.auth.username||"")+":"+(e.auth.password||""))),r.open(e.method.toUpperCase(),buildURL(e.url,e.params,e.paramsSerializer),!0),r.timeout=e.timeout,r[i]=function(){if(r&&(4===r.readyState||s)&&(0!==r.status||r.responseURL&&0===r.responseURL.indexOf("file:"))){var o="getAllResponseHeaders"in r?parseHeaders(r.getAllResponseHeaders()):null;settle(t,n,{data:e.responseType&&"text"!==e.responseType?r.response:r.responseText,status:1223===r.status?204:r.status,statusText:1223===r.status?"No Content":r.statusText,headers:o,config:e,request:r}),r=null}},r.onerror=function(){n(createError("Network Error",e,null,r)),r=null},r.ontimeout=function(){n(createError("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",r)),r=null},utils.isStandardBrowserEnv()){var d=cookies,l=(e.withCredentials||isURLSameOrigin(e.url))&&e.xsrfCookieName?d.read(e.xsrfCookieName):void 0;l&&(a[e.xsrfHeaderName]=l)}if("setRequestHeader"in r&&utils.forEach(a,function(e,t){void 0===o&&"content-type"===t.toLowerCase()?delete a[t]:r.setRequestHeader(t,e)}),e.withCredentials&&(r.withCredentials=!0),e.responseType)try{r.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&r.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&r.upload&&r.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){r&&(r.abort(),n(e),r=null)}),void 0===o&&(o=null),r.send(o)})},DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(e,t){!utils.isUndefined(e)&&utils.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function getDefaultAdapter(){var e;return"undefined"!=typeof XMLHttpRequest?e=xhr:void 0!==process&&(e=xhr),e}var defaults={adapter:getDefaultAdapter(),transformRequest:[function(e,t){return normalizeHeaderName(t,"Content-Type"),utils.isFormData(e)||utils.isArrayBuffer(e)||utils.isBuffer(e)||utils.isStream(e)||utils.isFile(e)||utils.isBlob(e)?e:utils.isArrayBufferView(e)?e.buffer:utils.isURLSearchParams(e)?(setContentTypeIfUnset(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):utils.isObject(e)?(setContentTypeIfUnset(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils.forEach(["delete","get","head"],function(e){defaults.headers[e]={}}),utils.forEach(["post","put","patch"],function(e){defaults.headers[e]=utils.merge(DEFAULT_CONTENT_TYPE)});var defaults_1=defaults;function InterceptorManager(){this.handlers=[]}InterceptorManager.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},InterceptorManager.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},InterceptorManager.prototype.forEach=function(e){utils.forEach(this.handlers,function(t){null!==t&&e(t)})};var InterceptorManager_1=InterceptorManager,transformData=function(e,t,n){return utils.forEach(n,function(n){e=n(e,t)}),e},isCancel=function(e){return!(!e||!e.__CANCEL__)},isAbsoluteURL=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)},combineURLs=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e};function throwIfCancellationRequested(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var dispatchRequest=function(e){return throwIfCancellationRequested(e),e.baseURL&&!isAbsoluteURL(e.url)&&(e.url=combineURLs(e.baseURL,e.url)),e.headers=e.headers||{},e.data=transformData(e.data,e.headers,e.transformRequest),e.headers=utils.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),utils.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||defaults_1.adapter)(e).then(function(t){return throwIfCancellationRequested(e),t.data=transformData(t.data,t.headers,e.transformResponse),t},function(t){return isCancel(t)||(throwIfCancellationRequested(e),t&&t.response&&(t.response.data=transformData(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})};function Axios(e){this.defaults=e,this.interceptors={request:new InterceptorManager_1,response:new InterceptorManager_1}}Axios.prototype.request=function(e){"string"==typeof e&&(e=utils.merge({url:arguments[0]},arguments[1])),(e=utils.merge(defaults_1,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[dispatchRequest,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},utils.forEach(["delete","get","head","options"],function(e){Axios.prototype[e]=function(t,n){return this.request(utils.merge(n||{},{method:e,url:t}))}}),utils.forEach(["post","put","patch"],function(e){Axios.prototype[e]=function(t,n,o){return this.request(utils.merge(o||{},{method:e,url:t,data:n}))}});var Axios_1=Axios;function Cancel(e){this.message=e}Cancel.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Cancel.prototype.__CANCEL__=!0;var Cancel_1=Cancel;function CancelToken(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new Cancel_1(e),t(n.reason))})}CancelToken.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},CancelToken.source=function(){var e;return{token:new CancelToken(function(t){e=t}),cancel:e}};var CancelToken_1=CancelToken,spread=function(e){return function(t){return e.apply(null,t)}};function createInstance(e){var t=new Axios_1(e),n=bind(Axios_1.prototype.request,t);return utils.extend(n,Axios_1.prototype,t),utils.extend(n,t),n}var axios=createInstance(defaults_1);axios.Axios=Axios_1,axios.create=function(e){return createInstance(utils.merge(defaults_1,e))},axios.Cancel=Cancel_1,axios.CancelToken=CancelToken_1,axios.isCancel=isCancel,axios.all=function(e){return Promise.all(e)},axios.spread=spread;var axios_1=axios,default_1=axios;axios_1.default=default_1;var axios$1=axios_1,WvPbEventPayload=function(){this.node=null,this.component_name=null,this.original_event=null};function AddNewComponent(e,t){var n=e.store.getState().createdNode;n.component_name=t.name,n.options=JSON.stringify(n.options);var o=e.store.getState().siteRootUrl+"/api/v3.0/page/"+n.page_id+"/node/create",a=e.store.getState().recordId;a&&(o+="?recId="+a),axios$1.post(o,n,{headers:{"Content-Type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"}}).then(function(t){e.addNode(t.data),window.setTimeout(function(){e.addReloadNodeIds(t.data.id);var o=new Event("WvPbManager_Node_Added"),a=new WvPbEventPayload;a.original_event=event,a.node=n,a.component_name=n.component_name,o.payload=a,document.dispatchEvent(o)},10)}).catch(function(e){e.response?e.response.data?alert(e.response.data):alert(e.response.statusText):e.message?alert(e.message):alert(e)})}function RecalculateComponentList(e){var t=e.store.getState().library,n=[];switch((n=e.filterString?_.filter(t,function(t){var n=t.label.toLowerCase().includes(e.filterString.toLowerCase());return n||(n=t.library.toLowerCase().includes(e.filterString.toLowerCase())),n||(n=t.description.toLowerCase().includes(e.filterString.toLowerCase())),n}):t)||(n=[]),e.sort){case"usage":n=_.orderBy(n,["usage_counter"],["desc"]);break;case"alpha":n=_.orderBy(n,["label"],["asc"]);break;default:n=_.orderBy(n,["last_used_on"],["desc"])}var o=(e.page-1)*e.pageSize,a=o+e.pageSize,r=n.length;a>r&&(a=r),e.total=r,e.pageCount=e.total/e.pageSize,e.componentList=_.slice(n,o,a)}var WvCreateModal=function(){function e(){this.isCreateModalVisible=!1,this.page=1,this.pageSize=24,this.sort="recent",this.componentList=new Array,this.total=0,this.pageCount=0,this.focused=!1}return e.prototype.componentWillLoad=function(){this.store.mapStateToProps(this,function(e){return{isCreateModalVisible:e.isCreateModalVisible}}),this.store.mapDispatchToProps(this,{setNodeCreation:setNodeCreation,addNode:addNode,addReloadNodeIds:addReloadNodeIds}),document.body.className=document.body.className.replace(" modal-open","").replace("modal-open",""),document.body.style.paddingRight=null;var e=document.getElementById("wv-pb-backdrop");e&&e.parentNode.removeChild(e)},e.prototype.cancelNodeCreateHandler=function(e){e.preventDefault(),e.stopPropagation(),this.filterString="",this.setNodeCreation(null)},e.prototype.filterChangeHandler=function(e){e.preventDefault(),e.stopPropagation(),this.filterString=e.target.value,this.page=1},e.prototype.selectComponent=function(e,t){e.preventDefault(),e.stopPropagation(),AddNewComponent(this,t),this.filterString=""},e.prototype.changeSort=function(e,t){e.preventDefault(),this.sort=t,this.page=1},e.prototype.changePage=function(e,t){e.preventDefault(),t>0&&(this.page=t)},e.prototype.render=function(){var e=this;if(RecalculateComponentList(e),!e.isCreateModalVisible)return e.focused=!1,e.filterString="",this.page=1,this.sort="recent",null;e.focused||window.setTimeout(function(){var t=document.getElementById("wv-pb-select-component-input");t&&(t.focus(),e.focused=!0)},10);for(var t=[0,1,2,3],n=[],o=1;o<e.pageCount+1;o++)n.push(o);return h("div",{class:"modal show d-block",style:{paddingRight:"17px"}},h("div",{class:"modal-dialog modal-full"},h("div",{class:"modal-content"},h("div",{class:"modal-header d-none"},h("h5",{class:"modal-title"},"Select component"),h("button",{type:"button",class:"close",onClick:function(t){return e.cancelNodeCreateHandler(t)}},h("span",{"aria-hidden":"true"},"Ã—"))),h("div",{class:"modal-body"},h("nav",{class:"navbar navbar-expand-lg navbar-light mb-3 go-bkg-blue-gray-light"},h("div",{class:"flex-grow-1"},h("ul",{class:"nav nav-pills"},h("li",{class:"nav-item"},h("a",{class:"nav-link "+("recent"===e.sort?"active":""),href:"#",onClick:function(t){return e.changeSort(t,"recent")}},"Recent")),h("li",{class:"nav-item"},h("a",{class:"nav-link "+("usage"===e.sort?"active":""),href:"#",onClick:function(t){return e.changeSort(t,"usage")}},"Most Used")),h("li",{class:"nav-item"},h("a",{class:"nav-link "+("alpha"===e.sort?"active":""),href:"#",onClick:function(t){return e.changeSort(t,"alpha")}},"Alphabetical")))),h("div",{class:"form-inline"},h("input",{class:"form-control form-control-sm",placeholder:"component name",onInput:function(t){return e.filterChangeHandler(t)},id:"wv-pb-select-component-input"}))),e.componentList.map(function(n,o){return n=n,h("div",{class:"row"},t.map(function(t){var n=o+t;if(n<e.componentList.length&&o%4==0){var a=e.componentList[n],r="fa fa-file";return a.icon_class&&(r=a.icon_class),h("div",{class:"col-6 col-lg-3",key:a.name},h("div",{class:"shadow-sm mb-4 card icon-card clickable",onClick:function(t){return e.selectComponent(t,a)}},h("div",{class:"card-body p-1"},h("div",{class:"icon-card-body"},h("i",{class:"icon "+r}),h("div",{class:"meta"},h("div",{class:"title"},a.label),h("div",{class:"description"},a.description),h("div",{class:"library"},a.library))))))}}))}),h("nav",{"aria-label":"Page navigation example"},h("ul",{class:"pagination justify-content-center"},h("li",{class:"page-item "+(e.page>1?"":"disabled")},h("a",{class:"page-link",href:"#",onClick:function(t){return e.changePage(t,e.page-1)}},"Previous")),n.map(function(t){return h("li",{class:"page-item "+(e.page===t?"active":"")},h("a",{class:"page-link",href:"#",onClick:function(n){return e.changePage(n,t)}},t))}),h("li",{class:"page-item "+(e.page>=e.pageCount?"disabled":"")},h("a",{class:"page-link",href:"#",onClick:function(t){return e.changePage(t,e.page+1)}},"Next"))))),h("div",{class:"modal-footer"},h("button",{type:"button",class:"btn btn-white btn-sm",onClick:function(t){return e.cancelNodeCreateHandler(t)}},"Cancel")))))},Object.defineProperty(e,"is",{get:function(){return"wv-create-modal"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{componentList:{state:!0},filterString:{state:!0},isCreateModalVisible:{state:!0},page:{state:!0},pageCount:{state:!0},pageSize:{state:!0},sort:{state:!0},store:{context:"store"},total:{state:!0}}},enumerable:!0,configurable:!0}),e}(),WvCreateModal$1=function(){function e(){this.isHelpModalVisible=!1}return e.prototype.componentWillLoad=function(){this.store.mapStateToProps(this,function(e){return{isHelpModalVisible:e.isHelpModalVisible}}),this.store.mapDispatchToProps(this,{setHelpModalState:setHelpModalState})},e.prototype.cancelHelpModalHandler=function(e){e.preventDefault(),e.stopPropagation(),this.setHelpModalState(!1)},e.prototype.render=function(){var e=this;return e.isHelpModalVisible?h("div",{class:"modal show d-block",style:{paddingRight:"17px"},id:"modal-component-help"},h("div",{class:"modal-dialog modal-xl"},h("div",{class:"modal-content"},h("div",{class:"modal-header"},h("span",{class:"title"},"Component help"),h("span",{class:"aside"},"wv-",e.store.getState().activeNodeId)),h("div",{class:"modal-body",id:"modal-component-help-body"},h("wv-show-help",{nodeId:e.store.getState().activeNodeId})),h("div",{class:"modal-footer"},h("button",{type:"button",class:"btn btn-white btn-sm",onClick:function(t){return e.cancelHelpModalHandler(t)}},"Close"))))):null},Object.defineProperty(e,"is",{get:function(){return"wv-help-modal"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{isHelpModalVisible:{state:!0},store:{context:"store"}}},enumerable:!0,configurable:!0}),e}(),WvLoadingPane=function(){function e(){}return e.prototype.render=function(){return h("div",{class:"p-2"},h("i",{class:"fa fa-spin fa-spinner go-blue"})," Loading...")},Object.defineProperty(e,"is",{get:function(){return"wv-loading-pane"},enumerable:!0,configurable:!0}),e}();function seq(e,t,n){void 0===n&&(n=0),e[n]&&e[n](function(){++n===e.length?t():seq(e,t,n)})}function scriptsDone(){var e=document.createEvent("Event");e.initEvent("DOMContentLoaded",!0,!0),document.dispatchEvent(e)}function insertScript(e,t){var n=document.createElement("script");n.type="text/javascript",e.src?(n.onload=t,n.onerror=t,n.src=e.src):n.textContent=e.innerText,n.src.includes("http://localhost:3333/")&&(n.src=n.src.replace("http://localhost:3333/","http://localhost:2202/")),document.head.appendChild(n),e.parentNode.removeChild(e),e.src||t()}var runScriptTypes=["application/javascript","application/ecmascript","application/x-ecmascript","application/x-javascript","text/ecmascript","text/javascript","text/javascript1.0","text/javascript1.1","text/javascript1.2","text/javascript1.3","text/javascript1.4","text/javascript1.5","text/jscript","text/livescript","text/x-ecmascript","text/x-javascript"];function runScripts(e){var t,n=e.querySelectorAll("script"),o=[];[].forEach.call(n,function(e){(t=e.getAttribute("type"))&&-1===runScriptTypes.indexOf(t)||o.push(function(t){insertScript(e,t)})}),seq(o,scriptsDone,0)}function LoadNodeDesignHtmlFromServerToStack(e,t,n){"object"!=typeof e.options&&(e.options=e.options?JSON.parse(e.options):{});var o=n.store.getState().siteRootUrl+t.meta.design_view_url+"&nid="+e.id+"&pid="+e.page_id,a=n.store.getState().recordId;a&&(o+="&recId="+a),axios$1.post(o,e.options,{headers:{"Content-Type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"}}).then(function(o){var a=document.getElementById("node-design-"+e.id),r=new Array,i=a.querySelectorAll("[data-node-id]");_.forEach(i,function(e){r.push(e.getAttribute("data-node-id"))}),_.forEach(r,function(e){NodeUtils.MoveNodeToStack(e)}),a.remove();var s=document.createElement("div");s.id="node-design-"+e.id,s.classList.add("wv-pb-node"),s.innerHTML=o.data,document.getElementById("wv-node-design-stack").appendChild(s),runScripts(s),n.updateNodeOptions(e),window.setTimeout(function(){r.push(e.id),n.addReloadNodeIds(r);var o=new Event("WvPbManager_Design_Loaded"),a=new WvPbEventPayload;a.node=e,a.component_name=t.node.component_name,o.payload=a,document.dispatchEvent(o)},10)}).catch(function(e){e.response?e.response.data?console.log(e.response.data):console.log(e.response.statusText):e.message?console.log(e.message):console.log(e)})}var NodeUtils=function(){function e(){}return e.MoveNodeToStack=function(e){if(!e)return console.error("node id not defined MoveNodeToStack "+e),!1;var t=document.getElementById("node-design-"+e),n=document.getElementById("wv-node-design-stack");return t&&t.parentElement.id==="wv-node-"+e&&n?(window.setTimeout(function(){n.appendChild(t)},5),!0):!(!t||"wv-node-design-stack"!==t.parentElement.id||!n)||(n?console.error("error to-stack "+e):console.error("stack is missing "),!1)},e.GetNodeFromStack=function(e){if(!e)return console.error("node id not defined GetNodeFromStack "+e),!1;var t=document.getElementById("node-design-"+e),n=document.getElementById("wv-node-"+e);return t&&"wv-node-design-stack"===t.parentElement.id&&n?(window.setTimeout(function(){n.appendChild(t)},5),!0):t&&t.parentElement.id==="wv-node-"+e?(console.log("no need from stack "+e),!0):!n},e.GetNodeFromServerToStack=function(e,t,n){LoadNodeDesignHtmlFromServerToStack(e,t,n)},e.GetNodeAndMeta=function(e,t){var n={node:null,meta:null},o=e.store.getState().pageNodes,a=e.store.getState().library;if(t){var r=_.findIndex(o,function(e){return e.id==t});if(-1==r)return void console.error("Node with id "+t+" not found in pageNodes");n.node=Object.assign({},o[r]);var i=_.findIndex(a,function(e){return e.name==n.node.component_name});if(-1==i)return void console.error("Component name "+n.node.component_name+" not found in library");n.meta=a[i]}return n},e.GetActiveNodeAndMeta=function(e){var t={node:null,meta:null},n=e.store.getState().pageNodes,o=e.store.getState().library,a=e.store.getState().activeNodeId;if(a){var r=_.findIndex(n,function(e){return e.id==a});if(-1==r)return void console.error("Node with id "+a+" not found in pageNodes");t.node=Object.assign({},n[r]);var i=_.findIndex(o,function(e){return e.name==t.node.component_name});if(-1==i)return void console.error("Component name "+t.node.component_name+" not found in library");t.meta=o[i]}return t},e.GetChildNodes=function(t,n,o,a,r){void 0===t&&(t=null),void 0===n&&(n=null),void 0===o&&(o=new Array),void 0===a&&(a=new Array),void 0===r&&(r=!0);var i=_.filter(o,function(e){return e.parent_id===t&&(!r||e.container_id===n)});_.forEach(i,function(t){a.push(t.id),e.GetChildNodes(t.id,"",o,a,!1)})},e}();function getSelectValues(e){for(var t,n=[],o=e&&e.options,a=0,r=o.length;a<r;a++)(t=o[a]).selected&&n.push(t.value||t.text);return n}var WvCreateModal$2=function(){function e(){this.isOptionsModalVisible=!1,this.isSaveLoading=!1}return e.prototype.componentWillLoad=function(){this.store.mapStateToProps(this,function(e){return{isOptionsModalVisible:e.isOptionsModalVisible}}),this.store.mapDispatchToProps(this,{setOptionsModalState:setOptionsModalState,updateNodeOptions:updateNodeOptions,addReloadNodeIds:addReloadNodeIds})},e.prototype.cancelOptionsModalHandler=function(e){e.preventDefault(),e.stopPropagation(),this.setOptionsModalState(!1)},e.prototype.saveOptionsModalHandler=function(e){var t=this;t.isSaveLoading=!0,e.preventDefault();var n={},o=document.querySelectorAll("#modal-component-options .modal-body input, #modal-component-options .modal-body textarea, #modal-component-options .modal-body select");o&&o.length>0&&_.forEach(o,function(e){var t=e.name;if(e.type&&"text"!==e.type&&"number"!==e.type&&"email"!==e.type&&"color"!==e.type&&"textarea"!==e.type&&"hidden"!==e.type)if("checkbox"===e.type){var o=!1;if(e.classList.contains("form-check-input")&&(o=!0),!t&&!o)return!0;var a=!1;if(o){a=document.querySelector('#modal-component-options .modal-body input[data-source-id="'+e.id+'"]').value;var r=e.getAttribute("data-field-name");n[r]=a}else e.checked&&(a=!0),n[t]=a}else"select"===e.tagName.toLowerCase()&&(n[t]=e.multiple?getSelectValues(e):e.value);else{if(!t)return!0;switch(e.type){case"number":var i=Number(e.value);isNaN(i)&&(i=null),n[t]=i;break;default:n[t]=e.value}}});var a=NodeUtils.GetActiveNodeAndMeta(t),r=t.store.getState().siteRootUrl+"/api/v3.0/page/"+a.node.page_id+"/node/"+a.node.id+"/options/update",i=t.store.getState().recordId;i&&(r+="?recId="+i),axios$1.post(r,n,{headers:{"Content-Type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"}}).then(function(n){var o=new Event("WvPbManager_Options_Changed"),r=new WvPbEventPayload;r.original_event=e,r.node=a.node,r.component_name=a.node.component_name,o.payload=r,document.dispatchEvent(o);var i=_.findIndex(n.data,function(e){return e.id===a.node.id});i>-1?NodeUtils.GetNodeFromServerToStack(n.data[i],a,t):alert("Error: Node not found in returned results"),t.isSaveLoading=!1,t.setOptionsModalState(!1)}).catch(function(e){t.isSaveLoading=!1,e.response?e.response.data?alert(e.response.data):alert(e.response.statusText):e.message?alert(e.message):alert(e)})},e.prototype.render=function(){var e=this,t=e.isOptionsModalVisible,n=e.store.getState().activeNodeId;if(!t)return null;var o=NodeUtils.GetNodeAndMeta(e,n).node.component_name.split(".");return h("div",{class:"modal show d-block",style:{paddingRight:"17px"},id:"modal-component-options"},h("div",{class:"modal-dialog modal-xl"},h("div",{class:"modal-content"},h("div",{class:"modal-header"},h("span",{class:"title"},h("span",{class:"go-teal"},o[o.length-1])," options"),h("span",{class:"aside"},"wv-",n)),h("div",{class:"modal-body",id:"modal-component-options-body"},h("wv-show-options",{nodeId:n})),h("div",{class:"modal-footer"},h("button",{type:"button",class:"btn btn-primary btn-sm",onClick:function(t){return e.saveOptionsModalHandler(t)},disabled:e.isSaveLoading},h("i",{class:e.isSaveLoading?"fa fa-spin fa-spinner":"fa fa-save"})," Save Options"),h("button",{type:"button",class:"btn btn-white btn-sm",onClick:function(t){return e.cancelOptionsModalHandler(t)}},"Close")))))},Object.defineProperty(e,"is",{get:function(){return"wv-options-modal"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{isOptionsModalVisible:{state:!0},isSaveLoading:{state:!0},store:{context:"store"}}},enumerable:!0,configurable:!0}),e}();function RenderComponentCard(e){var t=e.scope;if(!t.activeNodeId)return h("div",null,"Select a component to review its options");var n=t.store.getState().pageNodes,o=_.findIndex(n,function(e){return e.id===t.activeNodeId});if(-1===o)return null;var a=n[o],r=t.store.getState().library,i=_.findIndex(r,function(e){return e.name===a.component_name});if(-1===i)return null;var s=r[i],d={};return s.color&&(d={color:s.color}),[h("div",{class:"icon-card-body"},h("span",{class:"icon "+s.icon_class,style:d}),h("div",{class:"meta"},h("div",{class:"title"},s.label),h("div",{class:"description"},s.description),h("div",{class:"library"},s.library))),h("hr",{class:"divider",style:{margin:"5px 0"}}),h("div",{class:"row no-gutters"},h("div",{class:"col-6 pr-1"},h("button",{id:"wv-pb-inspector-options-btn",type:"button",class:"btn btn-white btn-sm btn-block",onClick:function(e){return t.showOptionsModalHandler(e)}},h("i",{class:t.isOptionsLoading?"fa fa-spin fa-spinner":"fa fa-cog"})," options")),h("div",{class:"col-6 pl-1"},h("button",{type:"button",class:"btn btn-white btn-sm btn-block",onClick:function(e){return t.showHelpModalHandler(e)}},h("i",{class:t.isHelpLoading?"fa fa-spin fa-spinner":"far fa-question-circle"})," help")))]}function RenderAction(e){var t=e.scope;if(t.activeNodeId)return h("a",{class:"go-red",href:"#",onClick:function(e){window.confirm("Are you sure you wish to delete this component?")&&t.deleteNodeHandler(e)}},h("i",{class:"fa fa-trash-alt"})," delete node")}function RemoveNode(e){var t=NodeUtils.GetActiveNodeAndMeta(e),n=e.store.getState().siteRootUrl+"/api/v3.0/page/"+t.node.page_id+"/node/"+t.node.id+"/delete",o=e.store.getState().recordId;o&&(n+="?recId="+o),axios$1.post(n,null,{headers:{"Content-Type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"}}).then(function(){var n=new Event("WvPbManager_Node_Removed"),o=new WvPbEventPayload;o.original_event=event,o.node=t.node,o.component_name=t.node.component_name,n.payload=o,document.dispatchEvent(n),e.removeNode(e.activeNodeId)}).catch(function(e){e.response?e.response.data?alert(e.response.data):alert(e.response.statusText):e.message?alert(e.message):alert(e)})}function LoadHelpTemplate(e){e.isHelpLoading=!0;var t=NodeUtils.GetNodeAndMeta(e,e.activeNodeId),n=null;if(t){var o=e.store.getState().siteRootUrl+t.meta.help_view_url+"&nid="+t.node.id+"&pid="+t.node.page_id,a=e.store.getState().recordId;a&&(o+="&recId="+a),axios$1.post(o,t.node.options,{headers:{"Content-Type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"}}).then(function(n){var o=document.getElementById("wv-node-help-stack"),a=document.createElement("div");a.id="node-help-"+e.activeNodeId,a.innerHTML=n.data,o.appendChild(a),runScripts(a);var r=new Event("WvPbManager_Help_Loaded"),i=new WvPbEventPayload;i.node=t.node,i.component_name=t.node.component_name,r.payload=i,document.dispatchEvent(r),e.setHelpModalState(!0),e.isHelpLoading=!1}).catch(function(t){if(n=t.response?t.response.data?t.response.data:t.response.statusText:t.message?t.message:t){var o=document.getElementById("wv-node-"+e.activeNodeId),a=document.createElement("div");a.classList.add("alert"),a.classList.add("alert-danger"),a.classList.add("m-1"),a.classList.add("p-1"),a.innerHTML=n,o.appendChild(a),e.isOptionsLoading=!1}})}}function LoadOptionsTemplate(e){e.isOptionsLoading=!0;var t=NodeUtils.GetNodeAndMeta(e,e.activeNodeId),n=null;if(t){var o=e.store.getState().siteRootUrl+t.meta.options_view_url+"&nid="+t.node.id+"&pid="+t.node.page_id,a=e.store.getState().recordId;a&&(o+="&recId="+a),axios$1.post(o,t.node.options,{headers:{"Content-Type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"}}).then(function(n){var o=document.getElementById("wv-node-options-stack"),a=document.createElement("div");a.id="node-options-"+e.activeNodeId,a.innerHTML=n.data,o.appendChild(a),runScripts(a);var r=new Event("WvPbManager_Options_Loaded"),i=new WvPbEventPayload;i.node=t.node,i.component_name=t.node.component_name,r.payload=i,document.dispatchEvent(r),e.setOptionsModalState(!0),e.isOptionsLoading=!1}).catch(function(t){if(n=t.response?t.response.data?t.response.data:t.response.statusText:t.message?t.message:t){var o=document.getElementById("wv-node-"+e.activeNodeId),a=document.createElement("div");a.classList.add("alert"),a.classList.add("alert-danger"),a.classList.add("m-1"),a.classList.add("p-1"),a.innerHTML=n,o.appendChild(a),e.isOptionsLoading=!1}})}}var root,WvPbInspector=function(){function e(){this.isHelpLoading=!1,this.isOptionsLoading=!1}return e.prototype.componentWillLoad=function(){this.store.mapStateToProps(this,function(e){return{activeNodeId:e.activeNodeId}}),this.store.mapDispatchToProps(this,{removeNode:removeNode,setOptionsModalState:setOptionsModalState,setHelpModalState:setHelpModalState})},e.prototype.deleteNodeHandler=function(e){e.preventDefault(),e.stopPropagation(),RemoveNode(this)},e.prototype.showOptionsModalHandler=function(e){e.preventDefault(),e.stopPropagation(),document.getElementById("node-options-"+this.activeNodeId)?this.setOptionsModalState(!0):LoadOptionsTemplate(this)},e.prototype.showHelpModalHandler=function(e){e.preventDefault(),e.stopPropagation(),document.getElementById("node-help-"+this.activeNodeId)?this.setHelpModalState(!0):LoadHelpTemplate(this)},e.prototype.render=function(){return[h("div",{class:"header"},h("div",{class:"title"},"Inspector"),h("div",{class:"action pr-1"},h(RenderAction,{scope:this}))),h("div",{class:"body"},h(RenderComponentCard,{scope:this}))]},Object.defineProperty(e,"is",{get:function(){return"wv-pb-inspector"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{activeNodeId:{state:!0},isHelpLoading:{state:!0},isOptionsLoading:{state:!0},store:{context:"store"}}},enumerable:!0,configurable:!0}),e}();function symbolObservablePonyfill(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}var hookCallback,some,result=symbolObservablePonyfill(root="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==global$1?global$1:"undefined"!=typeof module?module:Function("return this")()),randomString=function(){return Math.random().toString(36).substring(7).split("").join(".")},ActionTypes={INIT:"@@redux/INIT"+randomString(),REPLACE:"@@redux/REPLACE"+randomString(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+randomString()}};function isPlainObject(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function createStore(e,t,n){var o;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(createStore)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var a=e,r=t,i=[],s=i,d=!1;function l(){s===i&&(s=i.slice())}function c(){if(d)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return r}function u(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(d)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var t=!0;return l(),s.push(e),function(){if(t){if(d)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");t=!1,l();var n=s.indexOf(e);s.splice(n,1)}}}function h(e){if(!isPlainObject(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(d)throw new Error("Reducers may not dispatch actions.");try{d=!0,r=a(r,e)}finally{d=!1}for(var t=i=s,n=0;n<t.length;n++)(0,t[n])();return e}return h({type:ActionTypes.INIT}),(o={dispatch:h,subscribe:u,getState:c,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");a=e,h({type:ActionTypes.REPLACE})}})[result]=function(){var e,t=u;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[result]=function(){return this},e},o}function hooks(){return hookCallback.apply(null,arguments)}function setHookCallback(e){hookCallback=e}function isArray$1(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function isObject$1(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function isObjectEmpty(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}function isUndefined$1(e){return void 0===e}function isNumber$1(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function isDate$1(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function map(e,t){var n,o=[];for(n=0;n<e.length;++n)o.push(t(e[n],n));return o}function hasOwnProp(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function extend$1(e,t){for(var n in t)hasOwnProp(t,n)&&(e[n]=t[n]);return hasOwnProp(t,"toString")&&(e.toString=t.toString),hasOwnProp(t,"valueOf")&&(e.valueOf=t.valueOf),e}function createUTC(e,t,n,o){return createLocalOrUTC(e,t,n,o,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function getParsingFlags(e){return null==e._pf&&(e._pf=defaultParsingFlags()),e._pf}function isValid(e){if(null==e._isValid){var t=getParsingFlags(e),n=some.call(t.parsedDateParts,function(e){return null!=e}),o=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(o=o&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return o;e._isValid=o}return e._isValid}function createInvalid(e){var t=createUTC(NaN);return null!=e?extend$1(getParsingFlags(t),e):getParsingFlags(t).userInvalidated=!0,t}some=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,o=0;o<n;o++)if(o in t&&e.call(this,t[o],o,t))return!0;return!1};var momentProperties=hooks.momentProperties=[];function copyConfig(e,t){var n,o,a;if(isUndefined$1(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),isUndefined$1(t._i)||(e._i=t._i),isUndefined$1(t._f)||(e._f=t._f),isUndefined$1(t._l)||(e._l=t._l),isUndefined$1(t._strict)||(e._strict=t._strict),isUndefined$1(t._tzm)||(e._tzm=t._tzm),isUndefined$1(t._isUTC)||(e._isUTC=t._isUTC),isUndefined$1(t._offset)||(e._offset=t._offset),isUndefined$1(t._pf)||(e._pf=getParsingFlags(t)),isUndefined$1(t._locale)||(e._locale=t._locale),momentProperties.length>0)for(n=0;n<momentProperties.length;n++)isUndefined$1(a=t[o=momentProperties[n]])||(e[o]=a);return e}var updateInProgress=!1;function Moment(e){copyConfig(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===updateInProgress&&(updateInProgress=!0,hooks.updateOffset(this),updateInProgress=!1)}function isMoment(e){return e instanceof Moment||null!=e&&null!=e._isAMomentObject}function absFloor(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function toInt(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=absFloor(t)),n}function compareArrays(e,t,n){var o,a=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),i=0;for(o=0;o<a;o++)(n&&e[o]!==t[o]||!n&&toInt(e[o])!==toInt(t[o]))&&i++;return i+r}function warn(e){!1===hooks.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function deprecate(e,t){var n=!0;return extend$1(function(){if(null!=hooks.deprecationHandler&&hooks.deprecationHandler(null,e),n){for(var o,a=[],r=0;r<arguments.length;r++){if(o="","object"==typeof arguments[r]){for(var i in o+="\n["+r+"] ",arguments[0])o+=i+": "+arguments[0][i]+", ";o=o.slice(0,-2)}else o=arguments[r];a.push(o)}warn(e+"\nArguments: "+Array.prototype.slice.call(a).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)},t)}var keys,deprecations={};function deprecateSimple(e,t){null!=hooks.deprecationHandler&&hooks.deprecationHandler(e,t),deprecations[e]||(warn(t),deprecations[e]=!0)}function isFunction$1(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function set(e){var t,n;for(n in e)isFunction$1(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function mergeConfigs(e,t){var n,o=extend$1({},e);for(n in t)hasOwnProp(t,n)&&(isObject$1(e[n])&&isObject$1(t[n])?(o[n]={},extend$1(o[n],e[n]),extend$1(o[n],t[n])):null!=t[n]?o[n]=t[n]:delete o[n]);for(n in e)hasOwnProp(e,n)&&!hasOwnProp(t,n)&&isObject$1(e[n])&&(o[n]=extend$1({},o[n]));return o}function Locale(e){null!=e&&this.set(e)}hooks.suppressDeprecationWarnings=!1,hooks.deprecationHandler=null,keys=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)hasOwnProp(e,t)&&n.push(t);return n};var defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function calendar(e,t,n){var o=this._calendar[e]||this._calendar.sameElse;return isFunction$1(o)?o.call(t,n):o}var defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function longDateFormat(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}var defaultInvalidDate="Invalid date";function invalidDate(){return this._invalidDate}var defaultOrdinal="%d",defaultDayOfMonthOrdinalParse=/\d{1,2}/;function ordinal(e){return this._ordinal.replace("%d",e)}var defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function relativeTime(e,t,n,o){var a=this._relativeTime[n];return isFunction$1(a)?a(e,t,n,o):a.replace(/%d/i,e)}function pastFuture(e,t){var n=this._relativeTime[e>0?"future":"past"];return isFunction$1(n)?n(t):n.replace(/%s/i,t)}var aliases={};function addUnitAlias(e,t){var n=e.toLowerCase();aliases[n]=aliases[n+"s"]=aliases[t]=e}function normalizeUnits(e){return"string"==typeof e?aliases[e]||aliases[e.toLowerCase()]:void 0}function normalizeObjectUnits(e){var t,n,o={};for(n in e)hasOwnProp(e,n)&&(t=normalizeUnits(n))&&(o[t]=e[n]);return o}var priorities={};function addUnitPriority(e,t){priorities[e]=t}function getPrioritizedUnits(e){var t=[];for(var n in e)t.push({unit:n,priority:priorities[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function zeroFill(e,t,n){var o=""+Math.abs(e);return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,t-o.length)).toString().substr(1)+o}var formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={};function addFormatToken(e,t,n,o){var a=o;"string"==typeof o&&(a=function(){return this[o]()}),e&&(formatTokenFunctions[e]=a),t&&(formatTokenFunctions[t[0]]=function(){return zeroFill(a.apply(this,arguments),t[1],t[2])}),n&&(formatTokenFunctions[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function removeFormattingTokens(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function makeFormatFunction(e){var t,n,o=e.match(formattingTokens);for(t=0,n=o.length;t<n;t++)o[t]=formatTokenFunctions[o[t]]?formatTokenFunctions[o[t]]:removeFormattingTokens(o[t]);return function(t){var a,r="";for(a=0;a<n;a++)r+=isFunction$1(o[a])?o[a].call(t,e):o[a];return r}}function formatMoment(e,t){return e.isValid()?(t=expandFormat(t,e.localeData()),formatFunctions[t]=formatFunctions[t]||makeFormatFunction(t),formatFunctions[t](e)):e.localeData().invalidDate()}function expandFormat(e,t){var n=5;function o(e){return t.longDateFormat(e)||e}for(localFormattingTokens.lastIndex=0;n>=0&&localFormattingTokens.test(e);)e=e.replace(localFormattingTokens,o),localFormattingTokens.lastIndex=0,n-=1;return e}var match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match3to4=/\d\d\d\d?/,match5to6=/\d\d\d\d\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi,matchTimestamp=/[+-]?\d+(\.\d{1,3})?/,matchWord=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,regexes={};function addRegexToken(e,t,n){regexes[e]=isFunction$1(t)?t:function(e,o){return e&&n?n:t}}function getParseRegexForToken(e,t){return hasOwnProp(regexes,e)?regexes[e](t._strict,t._locale):new RegExp(unescapeFormat(e))}function unescapeFormat(e){return regexEscape(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,o,a){return t||n||o||a}))}function regexEscape(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var tokens={};function addParseToken(e,t){var n,o=t;for("string"==typeof e&&(e=[e]),isNumber$1(t)&&(o=function(e,n){n[t]=toInt(e)}),n=0;n<e.length;n++)tokens[e[n]]=o}function addWeekParseToken(e,t){addParseToken(e,function(e,n,o,a){o._w=o._w||{},t(e,o._w,o,a)})}function addTimeToArrayFromToken(e,t,n){null!=t&&hasOwnProp(tokens,e)&&tokens[e](t,n._a,n,e)}var YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,WEEK=7,WEEKDAY=8;function daysInYear(e){return isLeapYear(e)?366:365}function isLeapYear(e){return e%4==0&&e%100!=0||e%400==0}addFormatToken("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),addFormatToken(0,["YY",2],0,function(){return this.year()%100}),addFormatToken(0,["YYYY",4],0,"year"),addFormatToken(0,["YYYYY",5],0,"year"),addFormatToken(0,["YYYYYY",6,!0],0,"year"),addUnitAlias("year","y"),addUnitPriority("year",1),addRegexToken("Y",matchSigned),addRegexToken("YY",match1to2,match2),addRegexToken("YYYY",match1to4,match4),addRegexToken("YYYYY",match1to6,match6),addRegexToken("YYYYYY",match1to6,match6),addParseToken(["YYYYY","YYYYYY"],YEAR),addParseToken("YYYY",function(e,t){t[YEAR]=2===e.length?hooks.parseTwoDigitYear(e):toInt(e)}),addParseToken("YY",function(e,t){t[YEAR]=hooks.parseTwoDigitYear(e)}),addParseToken("Y",function(e,t){t[YEAR]=parseInt(e,10)}),hooks.parseTwoDigitYear=function(e){return toInt(e)+(toInt(e)>68?1900:2e3)};var indexOf,getSetYear=makeGetSet("FullYear",!0);function getIsLeapYear(){return isLeapYear(this.year())}function makeGetSet(e,t){return function(n){return null!=n?(set$1(this,e,n),hooks.updateOffset(this,t),this):get(this,e)}}function get(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function set$1(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&isLeapYear(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),daysInMonth(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function stringGet(e){return isFunction$1(this[e=normalizeUnits(e)])?this[e]():this}function stringSet(e,t){if("object"==typeof e)for(var n=getPrioritizedUnits(e=normalizeObjectUnits(e)),o=0;o<n.length;o++)this[n[o].unit](e[n[o].unit]);else if(isFunction$1(this[e=normalizeUnits(e)]))return this[e](t);return this}function mod(e,t){return(e%t+t)%t}function daysInMonth(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=mod(t,12);return e+=(t-n)/12,1===n?isLeapYear(e)?29:28:31-n%7%2}indexOf=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1}),addFormatToken("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),addFormatToken("MMMM",0,0,function(e){return this.localeData().months(this,e)}),addUnitAlias("month","M"),addUnitPriority("month",8),addRegexToken("M",match1to2),addRegexToken("MM",match1to2,match2),addRegexToken("MMM",function(e,t){return t.monthsShortRegex(e)}),addRegexToken("MMMM",function(e,t){return t.monthsRegex(e)}),addParseToken(["M","MM"],function(e,t){t[MONTH]=toInt(e)-1}),addParseToken(["MMM","MMMM"],function(e,t,n,o){var a=n._locale.monthsParse(e,o,n._strict);null!=a?t[MONTH]=a:getParsingFlags(n).invalidMonth=e});var MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_");function localeMonths(e,t){return e?isArray$1(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||MONTHS_IN_FORMAT).test(t)?"format":"standalone"][e.month()]:isArray$1(this._months)?this._months:this._months.standalone}var defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function localeMonthsShort(e,t){return e?isArray$1(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(t)?"format":"standalone"][e.month()]:isArray$1(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function handleStrictParse(e,t,n){var o,a,r,i=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],o=0;o<12;++o)r=createUTC([2e3,o]),this._shortMonthsParse[o]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[o]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(a=indexOf.call(this._shortMonthsParse,i))?a:null:-1!==(a=indexOf.call(this._longMonthsParse,i))?a:null:"MMM"===t?-1!==(a=indexOf.call(this._shortMonthsParse,i))?a:-1!==(a=indexOf.call(this._longMonthsParse,i))?a:null:-1!==(a=indexOf.call(this._longMonthsParse,i))?a:-1!==(a=indexOf.call(this._shortMonthsParse,i))?a:null}function localeMonthsParse(e,t,n){var o,a,r;if(this._monthsParseExact)return handleStrictParse.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),o=0;o<12;o++){if(a=createUTC([2e3,o]),n&&!this._longMonthsParse[o]&&(this._longMonthsParse[o]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[o]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),n||this._monthsParse[o]||(r="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[o]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[o].test(e))return o;if(n&&"MMM"===t&&this._shortMonthsParse[o].test(e))return o;if(!n&&this._monthsParse[o].test(e))return o}}function setMonth(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=toInt(t);else if(!isNumber$1(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),daysInMonth(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function getSetMonth(e){return null!=e?(setMonth(this,e),hooks.updateOffset(this,!0),this):get(this,"Month")}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}var defaultMonthsShortRegex=matchWord;function monthsShortRegex(e){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(hasOwnProp(this,"_monthsShortRegex")||(this._monthsShortRegex=defaultMonthsShortRegex),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}var defaultMonthsRegex=matchWord;function monthsRegex(e){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),e?this._monthsStrictRegex:this._monthsRegex):(hasOwnProp(this,"_monthsRegex")||(this._monthsRegex=defaultMonthsRegex),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function computeMonthsParse(){function e(e,t){return t.length-e.length}var t,n,o=[],a=[],r=[];for(t=0;t<12;t++)n=createUTC([2e3,t]),o.push(this.monthsShort(n,"")),a.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(o.sort(e),a.sort(e),r.sort(e),t=0;t<12;t++)o[t]=regexEscape(o[t]),a[t]=regexEscape(a[t]);for(t=0;t<24;t++)r[t]=regexEscape(r[t]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+o.join("|")+")","i")}function createDate(e,t,n,o,a,r,i){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,o,a,r,i),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,o,a,r,i),s}function createUTCDate(e){var t;if(e<100&&e>=0){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function firstWeekOffset(e,t,n){var o=7+t-n;return-(7+createUTCDate(e,0,o).getUTCDay()-t)%7+o-1}function dayOfYearFromWeeks(e,t,n,o,a){var r,i,s=1+7*(t-1)+(7+n-o)%7+firstWeekOffset(e,o,a);return s<=0?i=daysInYear(r=e-1)+s:s>daysInYear(e)?(r=e+1,i=s-daysInYear(e)):(r=e,i=s),{year:r,dayOfYear:i}}function weekOfYear(e,t,n){var o,a,r=firstWeekOffset(e.year(),t,n),i=Math.floor((e.dayOfYear()-r-1)/7)+1;return i<1?o=i+weeksInYear(a=e.year()-1,t,n):i>weeksInYear(e.year(),t,n)?(o=i-weeksInYear(e.year(),t,n),a=e.year()+1):(a=e.year(),o=i),{week:o,year:a}}function weeksInYear(e,t,n){var o=firstWeekOffset(e,t,n),a=firstWeekOffset(e+1,t,n);return(daysInYear(e)-o+a)/7}function localeWeek(e){return weekOfYear(e,this._week.dow,this._week.doy).week}addFormatToken("w",["ww",2],"wo","week"),addFormatToken("W",["WW",2],"Wo","isoWeek"),addUnitAlias("week","w"),addUnitAlias("isoWeek","W"),addUnitPriority("week",5),addUnitPriority("isoWeek",5),addRegexToken("w",match1to2),addRegexToken("ww",match1to2,match2),addRegexToken("W",match1to2),addRegexToken("WW",match1to2,match2),addWeekParseToken(["w","ww","W","WW"],function(e,t,n,o){t[o.substr(0,1)]=toInt(e)});var defaultLocaleWeek={dow:0,doy:6};function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function getSetISOWeek(e){var t=weekOfYear(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function parseWeekday(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function parseIsoWeekday(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function shiftWeekdays(e,t){return e.slice(t,7).concat(e.slice(0,t))}addFormatToken("d",0,"do","day"),addFormatToken("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),addFormatToken("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),addFormatToken("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),addFormatToken("e",0,0,"weekday"),addFormatToken("E",0,0,"isoWeekday"),addUnitAlias("day","d"),addUnitAlias("weekday","e"),addUnitAlias("isoWeekday","E"),addUnitPriority("day",11),addUnitPriority("weekday",11),addUnitPriority("isoWeekday",11),addRegexToken("d",match1to2),addRegexToken("e",match1to2),addRegexToken("E",match1to2),addRegexToken("dd",function(e,t){return t.weekdaysMinRegex(e)}),addRegexToken("ddd",function(e,t){return t.weekdaysShortRegex(e)}),addRegexToken("dddd",function(e,t){return t.weekdaysRegex(e)}),addWeekParseToken(["dd","ddd","dddd"],function(e,t,n,o){var a=n._locale.weekdaysParse(e,o,n._strict);null!=a?t.d=a:getParsingFlags(n).invalidWeekday=e}),addWeekParseToken(["d","e","E"],function(e,t,n,o){t[o]=toInt(e)});var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");function localeWeekdays(e,t){var n=isArray$1(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?shiftWeekdays(n,this._week.dow):e?n[e.day()]:n}var defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");function localeWeekdaysShort(e){return!0===e?shiftWeekdays(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}var defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function localeWeekdaysMin(e){return!0===e?shiftWeekdays(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function handleStrictParse$1(e,t,n){var o,a,r,i=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],o=0;o<7;++o)r=createUTC([2e3,1]).day(o),this._minWeekdaysParse[o]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[o]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[o]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(a=indexOf.call(this._weekdaysParse,i))?a:null:"ddd"===t?-1!==(a=indexOf.call(this._shortWeekdaysParse,i))?a:null:-1!==(a=indexOf.call(this._minWeekdaysParse,i))?a:null:"dddd"===t?-1!==(a=indexOf.call(this._weekdaysParse,i))?a:-1!==(a=indexOf.call(this._shortWeekdaysParse,i))?a:-1!==(a=indexOf.call(this._minWeekdaysParse,i))?a:null:"ddd"===t?-1!==(a=indexOf.call(this._shortWeekdaysParse,i))?a:-1!==(a=indexOf.call(this._weekdaysParse,i))?a:-1!==(a=indexOf.call(this._minWeekdaysParse,i))?a:null:-1!==(a=indexOf.call(this._minWeekdaysParse,i))?a:-1!==(a=indexOf.call(this._weekdaysParse,i))?a:-1!==(a=indexOf.call(this._shortWeekdaysParse,i))?a:null}function localeWeekdaysParse(e,t,n){var o,a,r;if(this._weekdaysParseExact)return handleStrictParse$1.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),o=0;o<7;o++){if(a=createUTC([2e3,1]).day(o),n&&!this._fullWeekdaysParse[o]&&(this._fullWeekdaysParse[o]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[o]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[o]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[o]||(r="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[o]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[o].test(e))return o;if(n&&"ddd"===t&&this._shortWeekdaysParse[o].test(e))return o;if(n&&"dd"===t&&this._minWeekdaysParse[o].test(e))return o;if(!n&&this._weekdaysParse[o].test(e))return o}}function getSetDayOfWeek(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=parseWeekday(e,this.localeData()),this.add(e-t,"d")):t}function getSetLocaleDayOfWeek(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function getSetISODayOfWeek(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=parseIsoWeekday(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}var defaultWeekdaysRegex=matchWord;function weekdaysRegex(e){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(hasOwnProp(this,"_weekdaysRegex")||(this._weekdaysRegex=defaultWeekdaysRegex),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}var defaultWeekdaysShortRegex=matchWord;function weekdaysShortRegex(e){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(hasOwnProp(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=defaultWeekdaysShortRegex),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}var defaultWeekdaysMinRegex=matchWord;function weekdaysMinRegex(e){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(hasOwnProp(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=defaultWeekdaysMinRegex),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function computeWeekdaysParse(){function e(e,t){return t.length-e.length}var t,n,o,a,r,i=[],s=[],d=[],l=[];for(t=0;t<7;t++)n=createUTC([2e3,1]).day(t),o=this.weekdaysMin(n,""),a=this.weekdaysShort(n,""),r=this.weekdays(n,""),i.push(o),s.push(a),d.push(r),l.push(o),l.push(a),l.push(r);for(i.sort(e),s.sort(e),d.sort(e),l.sort(e),t=0;t<7;t++)s[t]=regexEscape(s[t]),d[t]=regexEscape(d[t]),l[t]=regexEscape(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+i.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function kFormat(){return this.hours()||24}function meridiem(e,t){addFormatToken(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function matchMeridiem(e,t){return t._meridiemParse}function localeIsPM(e){return"p"===(e+"").toLowerCase().charAt(0)}addFormatToken("H",["HH",2],0,"hour"),addFormatToken("h",["hh",2],0,hFormat),addFormatToken("k",["kk",2],0,kFormat),addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)}),addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)}),addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),meridiem("a",!0),meridiem("A",!1),addUnitAlias("hour","h"),addUnitPriority("hour",13),addRegexToken("a",matchMeridiem),addRegexToken("A",matchMeridiem),addRegexToken("H",match1to2),addRegexToken("h",match1to2),addRegexToken("k",match1to2),addRegexToken("HH",match1to2,match2),addRegexToken("hh",match1to2,match2),addRegexToken("kk",match1to2,match2),addRegexToken("hmm",match3to4),addRegexToken("hmmss",match5to6),addRegexToken("Hmm",match3to4),addRegexToken("Hmmss",match5to6),addParseToken(["H","HH"],HOUR),addParseToken(["k","kk"],function(e,t,n){var o=toInt(e);t[HOUR]=24===o?0:o}),addParseToken(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),addParseToken(["h","hh"],function(e,t,n){t[HOUR]=toInt(e),getParsingFlags(n).bigHour=!0}),addParseToken("hmm",function(e,t,n){var o=e.length-2;t[HOUR]=toInt(e.substr(0,o)),t[MINUTE]=toInt(e.substr(o)),getParsingFlags(n).bigHour=!0}),addParseToken("hmmss",function(e,t,n){var o=e.length-4,a=e.length-2;t[HOUR]=toInt(e.substr(0,o)),t[MINUTE]=toInt(e.substr(o,2)),t[SECOND]=toInt(e.substr(a)),getParsingFlags(n).bigHour=!0}),addParseToken("Hmm",function(e,t,n){var o=e.length-2;t[HOUR]=toInt(e.substr(0,o)),t[MINUTE]=toInt(e.substr(o))}),addParseToken("Hmmss",function(e,t,n){var o=e.length-4,a=e.length-2;t[HOUR]=toInt(e.substr(0,o)),t[MINUTE]=toInt(e.substr(o,2)),t[SECOND]=toInt(e.substr(a))});var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i;function localeMeridiem(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var globalLocale,getSetHour=makeGetSet("Hours",!0),baseConfig={calendar:defaultCalendar,longDateFormat:defaultLongDateFormat,invalidDate:defaultInvalidDate,ordinal:defaultOrdinal,dayOfMonthOrdinalParse:defaultDayOfMonthOrdinalParse,relativeTime:defaultRelativeTime,months:defaultLocaleMonths,monthsShort:defaultLocaleMonthsShort,week:defaultLocaleWeek,weekdays:defaultLocaleWeekdays,weekdaysMin:defaultLocaleWeekdaysMin,weekdaysShort:defaultLocaleWeekdaysShort,meridiemParse:defaultLocaleMeridiemParse},locales={},localeFamilies={};function normalizeLocale(e){return e?e.toLowerCase().replace("_","-"):e}function chooseLocale(e){for(var t,n,o,a,r=0;r<e.length;){for(t=(a=normalizeLocale(e[r]).split("-")).length,n=(n=normalizeLocale(e[r+1]))?n.split("-"):null;t>0;){if(o=loadLocale(a.slice(0,t).join("-")))return o;if(n&&n.length>=t&&compareArrays(a,n,!0)>=t-1)break;t--}r++}return globalLocale}function loadLocale(e){var t=null;if(!locales[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=globalLocale._abbr,require("./locale/"+e),getSetGlobalLocale(t)}catch(e){}return locales[e]}function getSetGlobalLocale(e,t){var n;return e&&((n=isUndefined$1(t)?getLocale(e):defineLocale(e,t))?globalLocale=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),globalLocale._abbr}function defineLocale(e,t){if(null!==t){var n,o=baseConfig;if(t.abbr=e,null!=locales[e])deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),o=locales[e]._config;else if(null!=t.parentLocale)if(null!=locales[t.parentLocale])o=locales[t.parentLocale]._config;else{if(null==(n=loadLocale(t.parentLocale)))return localeFamilies[t.parentLocale]||(localeFamilies[t.parentLocale]=[]),localeFamilies[t.parentLocale].push({name:e,config:t}),null;o=n._config}return locales[e]=new Locale(mergeConfigs(o,t)),localeFamilies[e]&&localeFamilies[e].forEach(function(e){defineLocale(e.name,e.config)}),getSetGlobalLocale(e),locales[e]}return delete locales[e],null}function updateLocale(e,t){if(null!=t){var n,o,a=baseConfig;null!=(o=loadLocale(e))&&(a=o._config),(n=new Locale(t=mergeConfigs(a,t))).parentLocale=locales[e],locales[e]=n,getSetGlobalLocale(e)}else null!=locales[e]&&(null!=locales[e].parentLocale?locales[e]=locales[e].parentLocale:null!=locales[e]&&delete locales[e]);return locales[e]}function getLocale(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return globalLocale;if(!isArray$1(e)){if(t=loadLocale(e))return t;e=[e]}return chooseLocale(e)}function listLocales(){return keys(locales)}function checkOverflow(e){var t,n=e._a;return n&&-2===getParsingFlags(e).overflow&&(t=n[MONTH]<0||n[MONTH]>11?MONTH:n[DATE]<1||n[DATE]>daysInMonth(n[YEAR],n[MONTH])?DATE:n[HOUR]<0||n[HOUR]>24||24===n[HOUR]&&(0!==n[MINUTE]||0!==n[SECOND]||0!==n[MILLISECOND])?HOUR:n[MINUTE]<0||n[MINUTE]>59?MINUTE:n[SECOND]<0||n[SECOND]>59?SECOND:n[MILLISECOND]<0||n[MILLISECOND]>999?MILLISECOND:-1,getParsingFlags(e)._overflowDayOfYear&&(t<YEAR||t>DATE)&&(t=DATE),getParsingFlags(e)._overflowWeeks&&-1===t&&(t=WEEK),getParsingFlags(e)._overflowWeekday&&-1===t&&(t=WEEKDAY),getParsingFlags(e).overflow=t),e}function defaults$1(e,t,n){return null!=e?e:null!=t?t:n}function currentDateArray(e){var t=new Date(hooks.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function configFromArray(e){var t,n,o,a,r,i=[];if(!e._d){for(o=currentDateArray(e),e._w&&null==e._a[DATE]&&null==e._a[MONTH]&&dayOfYearFromWeekInfo(e),null!=e._dayOfYear&&(r=defaults$1(e._a[YEAR],o[YEAR]),(e._dayOfYear>daysInYear(r)||0===e._dayOfYear)&&(getParsingFlags(e)._overflowDayOfYear=!0),n=createUTCDate(r,0,e._dayOfYear),e._a[MONTH]=n.getUTCMonth(),e._a[DATE]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=i[t]=o[t];for(;t<7;t++)e._a[t]=i[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[HOUR]&&0===e._a[MINUTE]&&0===e._a[SECOND]&&0===e._a[MILLISECOND]&&(e._nextDay=!0,e._a[HOUR]=0),e._d=(e._useUTC?createUTCDate:createDate).apply(null,i),a=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[HOUR]=24),e._w&&void 0!==e._w.d&&e._w.d!==a&&(getParsingFlags(e).weekdayMismatch=!0)}}function dayOfYearFromWeekInfo(e){var t,n,o,a,r,i,s,d;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)r=1,i=4,n=defaults$1(t.GG,e._a[YEAR],weekOfYear(createLocal(),1,4).year),o=defaults$1(t.W,1),((a=defaults$1(t.E,1))<1||a>7)&&(d=!0);else{r=e._locale._week.dow,i=e._locale._week.doy;var l=weekOfYear(createLocal(),r,i);n=defaults$1(t.gg,e._a[YEAR],l.year),o=defaults$1(t.w,l.week),null!=t.d?((a=t.d)<0||a>6)&&(d=!0):null!=t.e?(a=t.e+r,(t.e<0||t.e>6)&&(d=!0)):a=r}o<1||o>weeksInYear(n,r,i)?getParsingFlags(e)._overflowWeeks=!0:null!=d?getParsingFlags(e)._overflowWeekday=!0:(s=dayOfYearFromWeeks(n,o,a,r,i),e._a[YEAR]=s.year,e._dayOfYear=s.dayOfYear)}var extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tzRegex=/Z|[+-]\d\d(?::?\d\d)?/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],isoTimes=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],aspNetJsonRegex=/^\/?Date\((\-?\d+)/i;function configFromISO(e){var t,n,o,a,r,i,s=e._i,d=extendedIsoRegex.exec(s)||basicIsoRegex.exec(s);if(d){for(getParsingFlags(e).iso=!0,t=0,n=isoDates.length;t<n;t++)if(isoDates[t][1].exec(d[1])){a=isoDates[t][0],o=!1!==isoDates[t][2];break}if(null==a)return void(e._isValid=!1);if(d[3]){for(t=0,n=isoTimes.length;t<n;t++)if(isoTimes[t][1].exec(d[3])){r=(d[2]||" ")+isoTimes[t][0];break}if(null==r)return void(e._isValid=!1)}if(!o&&null!=r)return void(e._isValid=!1);if(d[4]){if(!tzRegex.exec(d[4]))return void(e._isValid=!1);i="Z"}e._f=a+(r||"")+(i||""),configFromStringAndFormat(e)}else e._isValid=!1}var rfc2822=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function extractFromRFC2822Strings(e,t,n,o,a,r){var i=[untruncateYear(e),defaultLocaleMonthsShort.indexOf(t),parseInt(n,10),parseInt(o,10),parseInt(a,10)];return r&&i.push(parseInt(r,10)),i}function untruncateYear(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function preprocessRFC2822(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function checkWeekday(e,t,n){return!e||defaultLocaleWeekdaysShort.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(getParsingFlags(n).weekdayMismatch=!0,n._isValid=!1,!1)}var obsOffsets={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function calculateOffset(e,t,n){if(e)return obsOffsets[e];if(t)return 0;var o=parseInt(n,10),a=o%100;return(o-a)/100*60+a}function configFromRFC2822(e){var t=rfc2822.exec(preprocessRFC2822(e._i));if(t){var n=extractFromRFC2822Strings(t[4],t[3],t[2],t[5],t[6],t[7]);if(!checkWeekday(t[1],n,e))return;e._a=n,e._tzm=calculateOffset(t[8],t[9],t[10]),e._d=createUTCDate.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),getParsingFlags(e).rfc2822=!0}else e._isValid=!1}function configFromString(e){var t=aspNetJsonRegex.exec(e._i);null===t?(configFromISO(e),!1===e._isValid&&(delete e._isValid,configFromRFC2822(e),!1===e._isValid&&(delete e._isValid,hooks.createFromInputFallback(e)))):e._d=new Date(+t[1])}function configFromStringAndFormat(e){if(e._f!==hooks.ISO_8601)if(e._f!==hooks.RFC_2822){e._a=[],getParsingFlags(e).empty=!0;var t,n,o,a,r,i=""+e._i,s=i.length,d=0;for(o=expandFormat(e._f,e._locale).match(formattingTokens)||[],t=0;t<o.length;t++)(n=(i.match(getParseRegexForToken(a=o[t],e))||[])[0])&&((r=i.substr(0,i.indexOf(n))).length>0&&getParsingFlags(e).unusedInput.push(r),i=i.slice(i.indexOf(n)+n.length),d+=n.length),formatTokenFunctions[a]?(n?getParsingFlags(e).empty=!1:getParsingFlags(e).unusedTokens.push(a),addTimeToArrayFromToken(a,n,e)):e._strict&&!n&&getParsingFlags(e).unusedTokens.push(a);getParsingFlags(e).charsLeftOver=s-d,i.length>0&&getParsingFlags(e).unusedInput.push(i),e._a[HOUR]<=12&&!0===getParsingFlags(e).bigHour&&e._a[HOUR]>0&&(getParsingFlags(e).bigHour=void 0),getParsingFlags(e).parsedDateParts=e._a.slice(0),getParsingFlags(e).meridiem=e._meridiem,e._a[HOUR]=meridiemFixWrap(e._locale,e._a[HOUR],e._meridiem),configFromArray(e),checkOverflow(e)}else configFromRFC2822(e);else configFromISO(e)}function meridiemFixWrap(e,t,n){var o;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((o=e.isPM(n))&&t<12&&(t+=12),o||12!==t||(t=0),t):t}function configFromStringAndArray(e){var t,n,o,a,r;if(0===e._f.length)return getParsingFlags(e).invalidFormat=!0,void(e._d=new Date(NaN));for(a=0;a<e._f.length;a++)r=0,t=copyConfig({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[a],configFromStringAndFormat(t),isValid(t)&&(r+=getParsingFlags(t).charsLeftOver,r+=10*getParsingFlags(t).unusedTokens.length,getParsingFlags(t).score=r,(null==o||r<o)&&(o=r,n=t));extend$1(e,n||t)}function configFromObject(e){if(!e._d){var t=normalizeObjectUnits(e._i);e._a=map([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),configFromArray(e)}}function createFromConfig(e){var t=new Moment(checkOverflow(prepareConfig(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function prepareConfig(e){var t=e._i,n=e._f;return e._locale=e._locale||getLocale(e._l),null===t||void 0===n&&""===t?createInvalid({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),isMoment(t)?new Moment(checkOverflow(t)):(isDate$1(t)?e._d=t:isArray$1(n)?configFromStringAndArray(e):n?configFromStringAndFormat(e):configFromInput(e),isValid(e)||(e._d=null),e))}function configFromInput(e){var t=e._i;isUndefined$1(t)?e._d=new Date(hooks.now()):isDate$1(t)?e._d=new Date(t.valueOf()):"string"==typeof t?configFromString(e):isArray$1(t)?(e._a=map(t.slice(0),function(e){return parseInt(e,10)}),configFromArray(e)):isObject$1(t)?configFromObject(e):isNumber$1(t)?e._d=new Date(t):hooks.createFromInputFallback(e)}function createLocalOrUTC(e,t,n,o,a){var r={};return!0!==n&&!1!==n||(o=n,n=void 0),(isObject$1(e)&&isObjectEmpty(e)||isArray$1(e)&&0===e.length)&&(e=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=a,r._l=n,r._i=e,r._f=t,r._strict=o,createFromConfig(r)}function createLocal(e,t,n,o){return createLocalOrUTC(e,t,n,o,!1)}hooks.createFromInputFallback=deprecate("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),hooks.ISO_8601=function(){},hooks.RFC_2822=function(){};var prototypeMin=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=createLocal.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:createInvalid()}),prototypeMax=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=createLocal.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:createInvalid()});function pickBy(e,t){var n,o;if(1===t.length&&isArray$1(t[0])&&(t=t[0]),!t.length)return createLocal();for(n=t[0],o=1;o<t.length;++o)t[o].isValid()&&!t[o][e](n)||(n=t[o]);return n}function min(){return pickBy("isBefore",[].slice.call(arguments,0))}function max(){return pickBy("isAfter",[].slice.call(arguments,0))}var now=function(){return Date.now?Date.now():+new Date},ordering=["year","quarter","month","week","day","hour","minute","second","millisecond"];function isDurationValid(e){for(var t in e)if(-1===indexOf.call(ordering,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,o=0;o<ordering.length;++o)if(e[ordering[o]]){if(n)return!1;parseFloat(e[ordering[o]])!==toInt(e[ordering[o]])&&(n=!0)}return!0}function isValid$1(){return this._isValid}function createInvalid$1(){return createDuration(NaN)}function Duration(e){var t=normalizeObjectUnits(e),n=t.year||0,o=t.quarter||0,a=t.month||0,r=t.week||t.isoWeek||0,i=t.day||0,s=t.hour||0,d=t.minute||0,l=t.second||0,c=t.millisecond||0;this._isValid=isDurationValid(t),this._milliseconds=+c+1e3*l+6e4*d+1e3*s*60*60,this._days=+i+7*r,this._months=+a+3*o+12*n,this._data={},this._locale=getLocale(),this._bubble()}function isDuration(e){return e instanceof Duration}function absRound(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function offset(e,t){addFormatToken(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+zeroFill(~~(e/60),2)+t+zeroFill(~~e%60,2)})}offset("Z",":"),offset("ZZ",""),addRegexToken("Z",matchShortOffset),addRegexToken("ZZ",matchShortOffset),addParseToken(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=offsetFromString(matchShortOffset,e)});var chunkOffset=/([\+\-]|\d\d)/gi;function offsetFromString(e,t){var n=(t||"").match(e);if(null===n)return null;var o=((n[n.length-1]||[])+"").match(chunkOffset)||["-",0,0],a=60*o[1]+toInt(o[2]);return 0===a?0:"+"===o[0]?a:-a}function cloneWithOffset(e,t){var n,o;return t._isUTC?(n=t.clone(),o=(isMoment(e)||isDate$1(e)?e.valueOf():createLocal(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+o),hooks.updateOffset(n,!1),n):createLocal(e).local()}function getDateOffset(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function getSetOffset(e,t,n){var o,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=offsetFromString(matchShortOffset,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(o=getDateOffset(this)),this._offset=e,this._isUTC=!0,null!=o&&this.add(o,"m"),a!==e&&(!t||this._changeInProgress?addSubtract(this,createDuration(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,hooks.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:getDateOffset(this)}function getSetZone(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function setOffsetToUTC(e){return this.utcOffset(0,e)}function setOffsetToLocal(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(getDateOffset(this),"m")),this}function setOffsetToParsedOffset(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=offsetFromString(matchOffset,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function hasAlignedHourOffset(e){return!!this.isValid()&&(e=e?createLocal(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(!isUndefined$1(this._isDSTShifted))return this._isDSTShifted;var e={};if(copyConfig(e,this),(e=prepareConfig(e))._a){var t=e._isUTC?createUTC(e._a):createLocal(e._a);this._isDSTShifted=this.isValid()&&compareArrays(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function isLocal(){return!!this.isValid()&&!this._isUTC}function isUtcOffset(){return!!this.isValid()&&this._isUTC}function isUtc(){return!!this.isValid()&&this._isUTC&&0===this._offset}hooks.updateOffset=function(){};var aspNetRegex=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,isoRegex=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function createDuration(e,t){var n,o,a,r=e,i=null;return isDuration(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:isNumber$1(e)?(r={},t?r[t]=e:r.milliseconds=e):(i=aspNetRegex.exec(e))?(n="-"===i[1]?-1:1,r={y:0,d:toInt(i[DATE])*n,h:toInt(i[HOUR])*n,m:toInt(i[MINUTE])*n,s:toInt(i[SECOND])*n,ms:toInt(absRound(1e3*i[MILLISECOND]))*n}):(i=isoRegex.exec(e))?r={y:parseIso(i[2],n="-"===i[1]?-1:1),M:parseIso(i[3],n),w:parseIso(i[4],n),d:parseIso(i[5],n),h:parseIso(i[6],n),m:parseIso(i[7],n),s:parseIso(i[8],n)}:null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(a=momentsDifference(createLocal(r.from),createLocal(r.to)),(r={}).ms=a.milliseconds,r.M=a.months),o=new Duration(r),isDuration(e)&&hasOwnProp(e,"_locale")&&(o._locale=e._locale),o}function parseIso(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function positiveMomentsDifference(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function momentsDifference(e,t){var n;return e.isValid()&&t.isValid()?(t=cloneWithOffset(t,e),e.isBefore(t)?n=positiveMomentsDifference(e,t):((n=positiveMomentsDifference(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function createAdder(e,t){return function(n,o){var a;return null===o||isNaN(+o)||(deprecateSimple(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=n,n=o,o=a),addSubtract(this,createDuration(n="string"==typeof n?+n:n,o),e),this}}function addSubtract(e,t,n,o){var a=t._milliseconds,r=absRound(t._days),i=absRound(t._months);e.isValid()&&(o=null==o||o,i&&setMonth(e,get(e,"Month")+i*n),r&&set$1(e,"Date",get(e,"Date")+r*n),a&&e._d.setTime(e._d.valueOf()+a*n),o&&hooks.updateOffset(e,r||i))}createDuration.fn=Duration.prototype,createDuration.invalid=createInvalid$1;var add=createAdder(1,"add"),subtract=createAdder(-1,"subtract");function getCalendarFormat(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function calendar$1(e,t){var n=e||createLocal(),o=cloneWithOffset(n,this).startOf("day"),a=hooks.calendarFormat(this,o)||"sameElse",r=t&&(isFunction$1(t[a])?t[a].call(this,n):t[a]);return this.format(r||this.localeData().calendar(a,this,createLocal(n)))}function clone(){return new Moment(this)}function isAfter(e,t){var n=isMoment(e)?e:createLocal(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=normalizeUnits(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function isBefore(e,t){var n=isMoment(e)?e:createLocal(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=normalizeUnits(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function isBetween(e,t,n,o){var a=isMoment(e)?e:createLocal(e),r=isMoment(t)?t:createLocal(t);return!!(this.isValid()&&a.isValid()&&r.isValid())&&("("===(o=o||"()")[0]?this.isAfter(a,n):!this.isBefore(a,n))&&(")"===o[1]?this.isBefore(r,n):!this.isAfter(r,n))}function isSame(e,t){var n,o=isMoment(e)?e:createLocal(e);return!(!this.isValid()||!o.isValid())&&("millisecond"===(t=normalizeUnits(t)||"millisecond")?this.valueOf()===o.valueOf():(n=o.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function isSameOrAfter(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function isSameOrBefore(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function diff(e,t,n){var o,a,r;if(!this.isValid())return NaN;if(!(o=cloneWithOffset(e,this)).isValid())return NaN;switch(a=6e4*(o.utcOffset()-this.utcOffset()),t=normalizeUnits(t)){case"year":r=monthDiff(this,o)/12;break;case"month":r=monthDiff(this,o);break;case"quarter":r=monthDiff(this,o)/3;break;case"second":r=(this-o)/1e3;break;case"minute":r=(this-o)/6e4;break;case"hour":r=(this-o)/36e5;break;case"day":r=(this-o-a)/864e5;break;case"week":r=(this-o-a)/6048e5;break;default:r=this-o}return n?r:absFloor(r)}function monthDiff(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(n,"months");return-(n+(t-o<0?(t-o)/(o-e.clone().add(n-1,"months")):(t-o)/(e.clone().add(n+1,"months")-o)))||0}function toString$1(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function toISOString(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?formatMoment(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):isFunction$1(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",formatMoment(n,"Z")):formatMoment(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function inspect(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',o=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";return this.format(n+o+"-MM-DD[T]HH:mm:ss.SSS"+t+'[")]')}function format(e){e||(e=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat);var t=formatMoment(this,e);return this.localeData().postformat(t)}function from(e,t){return this.isValid()&&(isMoment(e)&&e.isValid()||createLocal(e).isValid())?createDuration({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function fromNow(e){return this.from(createLocal(),e)}function to(e,t){return this.isValid()&&(isMoment(e)&&e.isValid()||createLocal(e).isValid())?createDuration({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function toNow(e){return this.to(createLocal(),e)}function locale(e){var t;return void 0===e?this._locale._abbr:(null!=(t=getLocale(e))&&(this._locale=t),this)}hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function localeData(){return this._locale}var MS_PER_SECOND=1e3,MS_PER_MINUTE=60*MS_PER_SECOND,MS_PER_HOUR=60*MS_PER_MINUTE,MS_PER_400_YEARS=3506328*MS_PER_HOUR;function mod$1(e,t){return(e%t+t)%t}function localStartOfDate(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-MS_PER_400_YEARS:new Date(e,t,n).valueOf()}function utcStartOfDate(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-MS_PER_400_YEARS:Date.UTC(e,t,n)}function startOf(e){var t;if(void 0===(e=normalizeUnits(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?utcStartOfDate:localStartOfDate;switch(e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=mod$1(t+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR);break;case"minute":t=this._d.valueOf(),t-=mod$1(t,MS_PER_MINUTE);break;case"second":t=this._d.valueOf(),t-=mod$1(t,MS_PER_SECOND)}return this._d.setTime(t),hooks.updateOffset(this,!0),this}function endOf(e){var t;if(void 0===(e=normalizeUnits(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?utcStartOfDate:localStartOfDate;switch(e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=MS_PER_HOUR-mod$1(t+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR)-1;break;case"minute":t=this._d.valueOf(),t+=MS_PER_MINUTE-mod$1(t,MS_PER_MINUTE)-1;break;case"second":t=this._d.valueOf(),t+=MS_PER_SECOND-mod$1(t,MS_PER_SECOND)-1}return this._d.setTime(t),hooks.updateOffset(this,!0),this}function valueOf(){return this._d.valueOf()-6e4*(this._offset||0)}function unix(){return Math.floor(this.valueOf()/1e3)}function toDate(){return new Date(this.valueOf())}function toArray(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function toObject(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function toJSON(){return this.isValid()?this.toISOString():null}function isValid$2(){return isValid(this)}function parsingFlags(){return extend$1({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function addWeekYearFormatToken(e,t){addFormatToken(0,[e,e.length],0,t)}function getSetWeekYear(e){return getSetWeekYearHelper.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function getSetISOWeekYear(e){return getSetWeekYearHelper.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getWeeksInYear(){var e=this.localeData()._week;return weeksInYear(this.year(),e.dow,e.doy)}function getSetWeekYearHelper(e,t,n,o,a){var r;return null==e?weekOfYear(this,o,a).year:(t>(r=weeksInYear(e,o,a))&&(t=r),setWeekAll.call(this,e,t,n,o,a))}function setWeekAll(e,t,n,o,a){var r=dayOfYearFromWeeks(e,t,n,o,a),i=createUTCDate(r.year,0,r.dayOfYear);return this.year(i.getUTCFullYear()),this.month(i.getUTCMonth()),this.date(i.getUTCDate()),this}function getSetQuarter(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100}),addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100}),addWeekYearFormatToken("gggg","weekYear"),addWeekYearFormatToken("ggggg","weekYear"),addWeekYearFormatToken("GGGG","isoWeekYear"),addWeekYearFormatToken("GGGGG","isoWeekYear"),addUnitAlias("weekYear","gg"),addUnitAlias("isoWeekYear","GG"),addUnitPriority("weekYear",1),addUnitPriority("isoWeekYear",1),addRegexToken("G",matchSigned),addRegexToken("g",matchSigned),addRegexToken("GG",match1to2,match2),addRegexToken("gg",match1to2,match2),addRegexToken("GGGG",match1to4,match4),addRegexToken("gggg",match1to4,match4),addRegexToken("GGGGG",match1to6,match6),addRegexToken("ggggg",match1to6,match6),addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,o){t[o.substr(0,2)]=toInt(e)}),addWeekParseToken(["gg","GG"],function(e,t,n,o){t[o]=hooks.parseTwoDigitYear(e)}),addFormatToken("Q",0,"Qo","quarter"),addUnitAlias("quarter","Q"),addUnitPriority("quarter",7),addRegexToken("Q",match1),addParseToken("Q",function(e,t){t[MONTH]=3*(toInt(e)-1)}),addFormatToken("D",["DD",2],"Do","date"),addUnitAlias("date","D"),addUnitPriority("date",9),addRegexToken("D",match1to2),addRegexToken("DD",match1to2,match2),addRegexToken("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),addParseToken(["D","DD"],DATE),addParseToken("Do",function(e,t){t[DATE]=toInt(e.match(match1to2)[0])});var getSetDayOfMonth=makeGetSet("Date",!0);function getSetDayOfYear(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear"),addUnitAlias("dayOfYear","DDD"),addUnitPriority("dayOfYear",4),addRegexToken("DDD",match1to3),addRegexToken("DDDD",match3),addParseToken(["DDD","DDDD"],function(e,t,n){n._dayOfYear=toInt(e)}),addFormatToken("m",["mm",2],0,"minute"),addUnitAlias("minute","m"),addUnitPriority("minute",14),addRegexToken("m",match1to2),addRegexToken("mm",match1to2,match2),addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second"),addUnitAlias("second","s"),addUnitPriority("second",15),addRegexToken("s",match1to2),addRegexToken("ss",match1to2,match2),addParseToken(["s","ss"],SECOND);var token,getSetSecond=makeGetSet("Seconds",!1);for(addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)}),addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),addFormatToken(0,["SSS",3],0,"millisecond"),addFormatToken(0,["SSSS",4],0,function(){return 10*this.millisecond()}),addFormatToken(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),addFormatToken(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),addFormatToken(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),addFormatToken(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),addFormatToken(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),addUnitAlias("millisecond","ms"),addUnitPriority("millisecond",16),addRegexToken("S",match1to3,match1),addRegexToken("SS",match1to3,match2),addRegexToken("SSS",match1to3,match3),token="SSSS";token.length<=9;token+="S")addRegexToken(token,matchUnsigned);function parseMs(e,t){t[MILLISECOND]=toInt(1e3*("0."+e))}for(token="S";token.length<=9;token+="S")addParseToken(token,parseMs);var getSetMillisecond=makeGetSet("Milliseconds",!1);function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}addFormatToken("z",0,0,"zoneAbbr"),addFormatToken("zz",0,0,"zoneName");var proto=Moment.prototype;function createUnix(e){return createLocal(1e3*e)}function createInZone(){return createLocal.apply(null,arguments).parseZone()}function preParsePostFormat(e){return e}proto.add=add,proto.calendar=calendar$1,proto.clone=clone,proto.diff=diff,proto.endOf=endOf,proto.format=format,proto.from=from,proto.fromNow=fromNow,proto.to=to,proto.toNow=toNow,proto.get=stringGet,proto.invalidAt=invalidAt,proto.isAfter=isAfter,proto.isBefore=isBefore,proto.isBetween=isBetween,proto.isSame=isSame,proto.isSameOrAfter=isSameOrAfter,proto.isSameOrBefore=isSameOrBefore,proto.isValid=isValid$2,proto.lang=lang,proto.locale=locale,proto.localeData=localeData,proto.max=prototypeMax,proto.min=prototypeMin,proto.parsingFlags=parsingFlags,proto.set=stringSet,proto.startOf=startOf,proto.subtract=subtract,proto.toArray=toArray,proto.toObject=toObject,proto.toDate=toDate,proto.toISOString=toISOString,proto.inspect=inspect,proto.toJSON=toJSON,proto.toString=toString$1,proto.unix=unix,proto.valueOf=valueOf,proto.creationData=creationData,proto.year=getSetYear,proto.isLeapYear=getIsLeapYear,proto.weekYear=getSetWeekYear,proto.isoWeekYear=getSetISOWeekYear,proto.quarter=proto.quarters=getSetQuarter,proto.month=getSetMonth,proto.daysInMonth=getDaysInMonth,proto.week=proto.weeks=getSetWeek,proto.isoWeek=proto.isoWeeks=getSetISOWeek,proto.weeksInYear=getWeeksInYear,proto.isoWeeksInYear=getISOWeeksInYear,proto.date=getSetDayOfMonth,proto.day=proto.days=getSetDayOfWeek,proto.weekday=getSetLocaleDayOfWeek,proto.isoWeekday=getSetISODayOfWeek,proto.dayOfYear=getSetDayOfYear,proto.hour=proto.hours=getSetHour,proto.minute=proto.minutes=getSetMinute,proto.second=proto.seconds=getSetSecond,proto.millisecond=proto.milliseconds=getSetMillisecond,proto.utcOffset=getSetOffset,proto.utc=setOffsetToUTC,proto.local=setOffsetToLocal,proto.parseZone=setOffsetToParsedOffset,proto.hasAlignedHourOffset=hasAlignedHourOffset,proto.isDST=isDaylightSavingTime,proto.isLocal=isLocal,proto.isUtcOffset=isUtcOffset,proto.isUtc=isUtc,proto.isUTC=isUtc,proto.zoneAbbr=getZoneAbbr,proto.zoneName=getZoneName,proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth),proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth),proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear),proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",getSetZone),proto.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",isDaylightSavingTimeShifted);var proto$1=Locale.prototype;function get$1(e,t,n,o){var a=getLocale(),r=createUTC().set(o,t);return a[n](r,e)}function listMonthsImpl(e,t,n){if(isNumber$1(e)&&(t=e,e=void 0),e=e||"",null!=t)return get$1(e,t,n,"month");var o,a=[];for(o=0;o<12;o++)a[o]=get$1(e,o,n,"month");return a}function listWeekdaysImpl(e,t,n,o){"boolean"==typeof e?(isNumber$1(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,isNumber$1(t)&&(n=t,t=void 0),t=t||"");var a,r=getLocale(),i=e?r._week.dow:0;if(null!=n)return get$1(t,(n+i)%7,o,"day");var s=[];for(a=0;a<7;a++)s[a]=get$1(t,(a+i)%7,o,"day");return s}function listMonths(e,t){return listMonthsImpl(e,t,"months")}function listMonthsShort(e,t){return listMonthsImpl(e,t,"monthsShort")}function listWeekdays(e,t,n){return listWeekdaysImpl(e,t,n,"weekdays")}function listWeekdaysShort(e,t,n){return listWeekdaysImpl(e,t,n,"weekdaysShort")}function listWeekdaysMin(e,t,n){return listWeekdaysImpl(e,t,n,"weekdaysMin")}proto$1.calendar=calendar,proto$1.longDateFormat=longDateFormat,proto$1.invalidDate=invalidDate,proto$1.ordinal=ordinal,proto$1.preparse=preParsePostFormat,proto$1.postformat=preParsePostFormat,proto$1.relativeTime=relativeTime,proto$1.pastFuture=pastFuture,proto$1.set=set,proto$1.months=localeMonths,proto$1.monthsShort=localeMonthsShort,proto$1.monthsParse=localeMonthsParse,proto$1.monthsRegex=monthsRegex,proto$1.monthsShortRegex=monthsShortRegex,proto$1.week=localeWeek,proto$1.firstDayOfYear=localeFirstDayOfYear,proto$1.firstDayOfWeek=localeFirstDayOfWeek,proto$1.weekdays=localeWeekdays,proto$1.weekdaysMin=localeWeekdaysMin,proto$1.weekdaysShort=localeWeekdaysShort,proto$1.weekdaysParse=localeWeekdaysParse,proto$1.weekdaysRegex=weekdaysRegex,proto$1.weekdaysShortRegex=weekdaysShortRegex,proto$1.weekdaysMinRegex=weekdaysMinRegex,proto$1.isPM=localeIsPM,proto$1.meridiem=localeMeridiem,getSetGlobalLocale("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===toInt(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",getSetGlobalLocale),hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",getLocale);var mathAbs=Math.abs;function abs(){var e=this._data;return this._milliseconds=mathAbs(this._milliseconds),this._days=mathAbs(this._days),this._months=mathAbs(this._months),e.milliseconds=mathAbs(e.milliseconds),e.seconds=mathAbs(e.seconds),e.minutes=mathAbs(e.minutes),e.hours=mathAbs(e.hours),e.months=mathAbs(e.months),e.years=mathAbs(e.years),this}function addSubtract$1(e,t,n,o){var a=createDuration(t,n);return e._milliseconds+=o*a._milliseconds,e._days+=o*a._days,e._months+=o*a._months,e._bubble()}function add$1(e,t){return addSubtract$1(this,e,t,1)}function subtract$1(e,t){return addSubtract$1(this,e,t,-1)}function absCeil(e){return e<0?Math.floor(e):Math.ceil(e)}function bubble(){var e,t,n,o,a,r=this._milliseconds,i=this._days,s=this._months,d=this._data;return r>=0&&i>=0&&s>=0||r<=0&&i<=0&&s<=0||(r+=864e5*absCeil(monthsToDays(s)+i),i=0,s=0),d.milliseconds=r%1e3,e=absFloor(r/1e3),d.seconds=e%60,t=absFloor(e/60),d.minutes=t%60,n=absFloor(t/60),d.hours=n%24,i+=absFloor(n/24),s+=a=absFloor(daysToMonths(i)),i-=absCeil(monthsToDays(a)),o=absFloor(s/12),s%=12,d.days=i,d.months=s,d.years=o,this}function daysToMonths(e){return 4800*e/146097}function monthsToDays(e){return 146097*e/4800}function as(e){if(!this.isValid())return NaN;var t,n,o=this._milliseconds;if("month"===(e=normalizeUnits(e))||"quarter"===e||"year"===e)switch(n=this._months+daysToMonths(t=this._days+o/864e5),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(monthsToDays(this._months)),e){case"week":return t/7+o/6048e5;case"day":return t+o/864e5;case"hour":return 24*t+o/36e5;case"minute":return 1440*t+o/6e4;case"second":return 86400*t+o/1e3;case"millisecond":return Math.floor(864e5*t)+o;default:throw new Error("Unknown unit "+e)}}function valueOf$1(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12):NaN}function makeAs(e){return function(){return this.as(e)}}var asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asQuarters=makeAs("Q"),asYears=makeAs("y");function clone$1(){return createDuration(this)}function get$2(e){return e=normalizeUnits(e),this.isValid()?this[e+"s"]():NaN}function makeGetter(e){return function(){return this.isValid()?this._data[e]:NaN}}var milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days=makeGetter("days"),months=makeGetter("months"),years=makeGetter("years");function weeks(){return absFloor(this.days()/7)}var round=Math.round,thresholds={ss:44,s:45,m:45,h:22,d:26,M:11};function substituteTimeAgo(e,t,n,o,a){return a.relativeTime(t||1,!!n,e,o)}function relativeTime$1(e,t,n){var o=createDuration(e).abs(),a=round(o.as("s")),r=round(o.as("m")),i=round(o.as("h")),s=round(o.as("d")),d=round(o.as("M")),l=round(o.as("y")),c=a<=thresholds.ss&&["s",a]||a<thresholds.s&&["ss",a]||r<=1&&["m"]||r<thresholds.m&&["mm",r]||i<=1&&["h"]||i<thresholds.h&&["hh",i]||s<=1&&["d"]||s<thresholds.d&&["dd",s]||d<=1&&["M"]||d<thresholds.M&&["MM",d]||l<=1&&["y"]||["yy",l];return c[2]=t,c[3]=+e>0,c[4]=n,substituteTimeAgo.apply(null,c)}function getSetRelativeTimeRounding(e){return void 0===e?round:"function"==typeof e&&(round=e,!0)}function getSetRelativeTimeThreshold(e,t){return void 0!==thresholds[e]&&(void 0===t?thresholds[e]:(thresholds[e]=t,"s"===e&&(thresholds.ss=t-1),!0))}function humanize(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=relativeTime$1(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}var abs$1=Math.abs;function sign(e){return(e>0)-(e<0)||+e}function toISOString$1(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=abs$1(this._milliseconds)/1e3,o=abs$1(this._days),a=abs$1(this._months);e=absFloor(n/60),t=absFloor(e/60),n%=60,e%=60;var r=absFloor(a/12),i=a%=12,s=o,d=t,l=e,c=n?n.toFixed(3).replace(/\.?0+$/,""):"",u=this.asSeconds();if(!u)return"P0D";var h=u<0?"-":"",f=sign(this._months)!==sign(u)?"-":"",p=sign(this._days)!==sign(u)?"-":"",m=sign(this._milliseconds)!==sign(u)?"-":"";return h+"P"+(r?f+r+"Y":"")+(i?f+i+"M":"")+(s?p+s+"D":"")+(d||l||c?"T":"")+(d?m+d+"H":"")+(l?m+l+"M":"")+(c?m+c+"S":"")}var proto$2=Duration.prototype;proto$2.isValid=isValid$1,proto$2.abs=abs,proto$2.add=add$1,proto$2.subtract=subtract$1,proto$2.as=as,proto$2.asMilliseconds=asMilliseconds,proto$2.asSeconds=asSeconds,proto$2.asMinutes=asMinutes,proto$2.asHours=asHours,proto$2.asDays=asDays,proto$2.asWeeks=asWeeks,proto$2.asMonths=asMonths,proto$2.asQuarters=asQuarters,proto$2.asYears=asYears,proto$2.valueOf=valueOf$1,proto$2._bubble=bubble,proto$2.clone=clone$1,proto$2.get=get$2,proto$2.milliseconds=milliseconds,proto$2.seconds=seconds,proto$2.minutes=minutes,proto$2.hours=hours,proto$2.days=days,proto$2.weeks=weeks,proto$2.months=months,proto$2.years=years,proto$2.humanize=humanize,proto$2.toISOString=toISOString$1,proto$2.toString=toISOString$1,proto$2.toJSON=toISOString$1,proto$2.locale=locale,proto$2.localeData=localeData,proto$2.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",toISOString$1),proto$2.lang=lang,addFormatToken("X",0,0,"unix"),addFormatToken("x",0,0,"valueOf"),addRegexToken("x",matchSigned),addRegexToken("X",matchTimestamp),addParseToken("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),addParseToken("x",function(e,t,n){n._d=new Date(toInt(e))}),hooks.version="2.24.0",setHookCallback(createLocal),hooks.fn=proto,hooks.min=min,hooks.max=max,hooks.now=now,hooks.utc=createUTC,hooks.unix=createUnix,hooks.months=listMonths,hooks.isDate=isDate$1,hooks.locale=getSetGlobalLocale,hooks.invalid=createInvalid,hooks.duration=createDuration,hooks.isMoment=isMoment,hooks.weekdays=listWeekdays,hooks.parseZone=createInZone,hooks.localeData=getLocale,hooks.isDuration=isDuration,hooks.monthsShort=listMonthsShort,hooks.weekdaysMin=listWeekdaysMin,hooks.defineLocale=defineLocale,hooks.updateLocale=updateLocale,hooks.locales=listLocales,hooks.weekdaysShort=listWeekdaysShort,hooks.normalizeUnits=normalizeUnits,hooks.relativeTimeRounding=getSetRelativeTimeRounding,hooks.relativeTimeThreshold=getSetRelativeTimeThreshold,hooks.calendarFormat=getCalendarFormat,hooks.prototype=proto,hooks.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var tick,initialState={},rootReducer=function(e,t){void 0===e&&(e=initialState);var n=Object.assign({},e);switch(t.type){case SET_DRAKE:return n.drake=t.payload,n;case ADD_DRAKE_CONTAINER_ID:var o=document.getElementById(t.payload);return n.drake.containers.push(o),n;case SET_ACTIVE_NODE:return n.activeNodeId=n.activeNodeId&&n.activeNodeId===t.payload?null:t.payload,n;case HOVER_NODE:return n.hoveredNodeId=t.payload,t.payload&&(n.hoveredContainerId=null),n;case HOVER_CONTAINER:return n.hoveredContainerId=t.payload,t.payload&&(n.hoveredNodeId=null),n;case SET_NODE_CREATION:if(t.payload){document.body.className+=" modal-open",document.body.style.paddingRight="17px";var a=document.createElement("div");a.className="modal-backdrop show",a.id="wv-pb-backdrop",document.body.appendChild(a),n.isCreateModalVisible=!0,n.createdNode=t.payload}else document.body.className=document.body.className.replace(" modal-open","").replace("modal-open",""),document.body.style.paddingRight=null,(f=document.getElementById("wv-pb-backdrop"))&&f.parentNode.removeChild(f),n.isCreateModalVisible=!1,n.createdNode=null;return n;case ADD_NODE:n.activeNodeId=t.payload.id;var r=t.payload;"object"!=typeof r.options&&(r.options=r.options?JSON.parse(r.options):{}),n.pageNodes=n.pageNodes.concat([r]),n.pageNodeChangeIndex++,document.body.className=document.body.className.replace(" modal-open","").replace("modal-open",""),document.body.style.paddingRight=null,(f=document.getElementById("wv-pb-backdrop"))&&f.parentNode.removeChild(f),n.isCreateModalVisible=!1,n.createdNode=null;var i=r.component_name,s=_.findIndex(n.library,function(e){return e.name===i});return s>-1&&(n.library[s].usage_counter++,n.library[s].last_used_on=hooks().format("YYYY-MM-DDTHH:mm:ss")),n;case REMOVE_NODE:return n.pageNodes=_.filter(n.pageNodes,function(e){return e.id.toLowerCase()!==t.payload.toLowerCase()}),n.activeNodeId=null,n.pageNodeChangeIndex++,n;case UPDATE_NODE_OPTIONS:var d=t.payload;if(d){"object"!=typeof d.options&&(d.options=d.options?JSON.parse(d.options):{});var l=_.findIndex(n.pageNodes,function(e){return e.id===d.id});if(l>-1){var c=n.pageNodes[l];c.options=d.options,n.pageNodes=_.filter(n.pageNodes,function(e){return e.id!==d.id}),n.pageNodes.push(c),n.pageNodeChangeIndex++}}return n;case UPDATE_PAGE_NODES:return _.forEach(t.payload,function(e){"object"!=typeof e.options&&(e.options=e.options?JSON.parse(e.options):{}),n.pageNodes=t.payload,n.pageNodeChangeIndex++}),n;case SET_OPTIONS_MODAL_STATE:if(t.payload){document.body.className+=" modal-open",document.body.style.paddingRight="17px";var u=document.createElement("div");u.className="modal-backdrop show",u.id="wv-pb-backdrop",document.body.appendChild(u),n.isOptionsModalVisible=!0}else document.body.className=document.body.className.replace(" modal-open","").replace("modal-open",""),document.body.style.paddingRight=null,(f=document.getElementById("wv-pb-backdrop"))&&f.parentNode.removeChild(f),n.isOptionsModalVisible=!1;return n;case SET_HELP_MODAL_STATE:if(t.payload){document.body.className+=" modal-open",document.body.style.paddingRight="17px";var h=document.createElement("div");h.className="modal-backdrop show",h.id="wv-pb-backdrop",document.body.appendChild(h),n.isHelpModalVisible=!0}else{var f;document.body.className=document.body.className.replace(" modal-open","").replace("modal-open",""),document.body.style.paddingRight=null,(f=document.getElementById("wv-pb-backdrop"))&&f.parentNode.removeChild(f),n.isHelpModalVisible=!1}return n;case ADD_RELOAD_NODE_IDS:return t.payload&&(n.reloadNodeIdList=_.concat(n.reloadNodeIdList,t.payload)),n;case REMOVE_RELOAD_NODE_IDS:return t.payload&&(n.reloadNodeIdList=_.without(n.reloadNodeIdList,t.payload)),n;default:return e}},configureStore=function(e){return createStore(rootReducer,e)},WvPbStore=function(){this.library=new Array,this.pageNodes=new Array,this.pageId=null,this.siteRootUrl=null,this.drake=new Object,this.activeNodeId=null,this.hoveredNodeId=null,this.hoveredContainerId=null,this.pageNodeChangeIndex=1,this.isCreateModalVisible=!1,this.createdNode=new Object,this.isOptionsModalVisible=!1,this.isHelpModalVisible=!1,this.reloadNodeIdList=new Array,this.componentMeta=new Object,this.recordId=null},atoa=function(e,t){return Array.prototype.slice.call(e,t)},si="function"==typeof setImmediate,tickyBrowser=tick=si?function(e){setImmediate(e)}:function(e){setTimeout(e,0)},debounce=function(e,t,n){e&&tickyBrowser(function(){e.apply(n||null,t||[])})},emitter=function(e,t){var n=t||{},o={};return void 0===e&&(e={}),e.on=function(t,n){return o[t]?o[t].push(n):o[t]=[n],e},e.once=function(t,n){return n._once=!0,e.on(t,n),e},e.off=function(t,n){var a=arguments.length;if(1===a)delete o[t];else if(0===a)o={};else{var r=o[t];if(!r)return e;r.splice(r.indexOf(n),1)}return e},e.emit=function(){var t=atoa(arguments);return e.emitterSnapshot(t.shift()).apply(this,t)},e.emitterSnapshot=function(t){var a=(o[t]||[]).slice(0);return function(){var o=atoa(arguments),r=this||e;if("error"===t&&!1!==n.throws&&!a.length)throw 1===o.length?o[0]:o;return a.forEach(function(a){n.async?debounce(a,o,r):a.apply(r,o),a._once&&e.off(t,a)}),e}},e},NativeCustomEvent=commonjsGlobal.CustomEvent;function useNative(){try{var e=new NativeCustomEvent("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}return!1}var customEvent=useNative()?NativeCustomEvent:"function"==typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n},eventmap=[],eventname="",ron=/^on/;for(eventname in commonjsGlobal)ron.test(eventname)&&eventmap.push(eventname.slice(2));var eventmap_1=eventmap,doc=commonjsGlobal.document,addEvent=addEventEasy,removeEvent=removeEventEasy,hardCache=[];commonjsGlobal.addEventListener||(addEvent=addEventHard,removeEvent=removeEventHard);var crossvent={add:addEvent,remove:removeEvent,fabricate:fabricateEvent};function addEventEasy(e,t,n,o){return e.addEventListener(t,n,o)}function addEventHard(e,t,n){return e.attachEvent("on"+t,wrap(e,t,n))}function removeEventEasy(e,t,n,o){return e.removeEventListener(t,n,o)}function removeEventHard(e,t,n){var o=unwrap(e,t,n);if(o)return e.detachEvent("on"+t,o)}function fabricateEvent(e,t,n){var o=-1===eventmap_1.indexOf(t)?new customEvent(t,{detail:n}):function(){var e;return doc.createEvent?(e=doc.createEvent("Event")).initEvent(t,!0,!0):doc.createEventObject&&(e=doc.createEventObject()),e}();e.dispatchEvent?e.dispatchEvent(o):e.fireEvent("on"+t,o)}function wrapperFactory(e,t,n){return function(t){var o=t||commonjsGlobal.event;o.target=o.target||o.srcElement,o.preventDefault=o.preventDefault||function(){o.returnValue=!1},o.stopPropagation=o.stopPropagation||function(){o.cancelBubble=!0},o.which=o.which||o.keyCode,n.call(e,o)}}function wrap(e,t,n){var o=unwrap(e,t,n)||wrapperFactory(e,t,n);return hardCache.push({wrapper:o,element:e,type:t,fn:n}),o}function unwrap(e,t,n){var o=find(e,t,n);if(o){var a=hardCache[o].wrapper;return hardCache.splice(o,1),a}}function find(e,t,n){var o,a;for(o=0;o<hardCache.length;o++)if((a=hardCache[o]).element===e&&a.type===t&&a.fn===n)return o}var cache={},start="(?:^|\\s)",end="(?:\\s|$)";function lookupClass(e){var t=cache[e];return t?t.lastIndex=0:cache[e]=t=new RegExp(start+e+end,"g"),t}function addClass(e,t){var n=e.className;n.length?lookupClass(t).test(n)||(e.className+=" "+t):e.className=t}function rmClass(e,t){e.className=e.className.replace(lookupClass(t)," ").trim()}var classes={add:addClass,rm:rmClass},doc$1=document,documentElement=doc$1.documentElement;function dragula(e,t){var n,o,a,r,i,s,d,l,c,u,h;1===arguments.length&&!1===Array.isArray(e)&&(t=e,e=[]);var f,p=null,m=t||{};void 0===m.moves&&(m.moves=always),void 0===m.accepts&&(m.accepts=always),void 0===m.invalid&&(m.invalid=function(){return!1}),void 0===m.containers&&(m.containers=e||[]),void 0===m.isContainer&&(m.isContainer=never),void 0===m.copy&&(m.copy=!1),void 0===m.copySortSource&&(m.copySortSource=!1),void 0===m.revertOnSpill&&(m.revertOnSpill=!1),void 0===m.removeOnSpill&&(m.removeOnSpill=!1),void 0===m.direction&&(m.direction="vertical"),void 0===m.ignoreInputTextSelection&&(m.ignoreInputTextSelection=!0),void 0===m.mirrorContainer&&(m.mirrorContainer=doc$1.body),void 0===m.slideFactorY&&(m.slideFactorY=10),void 0===m.slideFactorX&&(m.slideFactorX=10);var g=emitter({containers:m.containers,start:function(e){var t=T(e);t&&O(t)},end:M,cancel:I,remove:E,destroy:function(){y(!0),N({})},canMove:function(e){return!!T(e)},dragging:!1});return!0===m.removeOnSpill&&g.on("over",function(e){classes.rm(e,"gu-hide")}).on("out",function(e){g.dragging&&classes.add(e,"gu-hide")}),y(),g;function v(e){return-1!==g.containers.indexOf(e)||m.isContainer(e)}function y(e){var t=e?"remove":"add";touchy(documentElement,t,"mousedown",b),touchy(documentElement,t,"mouseup",N)}function _(e){touchy(documentElement,e?"remove":"add","mousemove",w)}function k(e){var t=e?"remove":"add";crossvent[t](documentElement,"selectstart",S),crossvent[t](documentElement,"click",S)}function S(e){f&&e.preventDefault()}function b(e){if(s=e.clientX,d=e.clientY,1===whichMouseButton(e)&&!e.metaKey&&!e.ctrlKey){var t=e.target,n=T(t);n&&(f=n,_(),"mousedown"===e.type&&(isInput(t)?t.focus():e.preventDefault()))}}function w(e){if(f)if(0!==whichMouseButton(e)){if(!(void 0!==e.clientX&&Math.abs(e.clientX-s)<=(m.slideFactorX||0)&&void 0!==e.clientY&&Math.abs(e.clientY-d)<=(m.slideFactorY||0))){if(m.ignoreInputTextSelection){var t=getCoord("clientX",e),o=getCoord("clientY",e);if(isInput(doc$1.elementFromPoint(t,o)))return}var l=f;_(!0),k(),M(),O(l);var c=getOffset(a);r=getCoord("pageX",e)-c.left,i=getCoord("pageY",e)-c.top,classes.add(u||a,"gu-transit"),function(){if(!n){var e=a.getBoundingClientRect();(n=a.cloneNode(!0)).style.width=getRectWidth(e)+"px",n.style.height=getRectHeight(e)+"px",classes.rm(n,"gu-transit"),classes.add(n,"gu-mirror"),m.mirrorContainer.appendChild(n),touchy(documentElement,"add","mousemove",F),classes.add(m.mirrorContainer,"gu-unselectable"),g.emit("cloned",n,a,"mirror")}}(),F(e)}}else N({})}function T(e){if(!(g.dragging&&n||v(e))){for(var t=e;getParent(e)&&!1===v(getParent(e));){if(m.invalid(e,t))return;if(!(e=getParent(e)))return}var o=getParent(e);if(o&&!m.invalid(e,t)&&m.moves(e,o,t,nextEl(e)))return{item:e,source:o}}}function O(e){("boolean"==typeof m.copy?m.copy:m.copy(e.item,e.source))&&(u=e.item.cloneNode(!0),g.emit("cloned",u,e.item,"copy")),o=e.source,a=e.item,l=c=nextEl(e.item),g.dragging=!0,g.emit("drag",a,o)}function M(){if(g.dragging){var e=u||a;x(e,getParent(e))}}function D(){f=!1,_(!0),k(!0)}function N(e){if(D(),g.dragging){var t=u||a,r=getCoord("clientX",e),i=getCoord("clientY",e),s=R(getElementBehindPoint(n,r,i),r,i);s&&(u&&m.copySortSource||!u||s!==o)?x(t,s):m.removeOnSpill?E():I()}}function x(e,t){var n=getParent(e);u&&m.copySortSource&&t===o&&n.removeChild(a),P(t)?g.emit("cancel",e,o,o):g.emit("drop",e,t,o,c),C()}function E(){if(g.dragging){var e=u||a,t=getParent(e);t&&t.removeChild(e),g.emit(u?"cancel":"remove",e,t,o),C()}}function I(e){if(g.dragging){var t=arguments.length>0?e:m.revertOnSpill,n=u||a,r=getParent(n),i=P(r);!1===i&&t&&(u?r&&r.removeChild(u):o.insertBefore(n,l)),i||t?g.emit("cancel",n,o,o):g.emit("drop",n,r,o,c),C()}}function C(){var e=u||a;D(),n&&(classes.rm(m.mirrorContainer,"gu-unselectable"),touchy(documentElement,"remove","mousemove",F),getParent(n).removeChild(n),n=null),e&&classes.rm(e,"gu-transit"),h&&clearTimeout(h),g.dragging=!1,p&&g.emit("out",e,p,o),g.emit("dragend",e),o=a=u=l=c=h=p=null}function P(e,t){var r;return r=void 0!==t?t:n?c:nextEl(u||a),e===o&&r===l}function R(e,t,n){for(var r=e;r&&!i();)r=getParent(r);return r;function i(){if(!1===v(r))return!1;var i=L(r,e),s=A(r,i,t,n);return!!P(r,s)||m.accepts(a,r,o,s)}}function F(e){if(n){e.preventDefault();var t=getCoord("clientX",e),s=getCoord("clientY",e),d=s-i;n.style.left=t-r+"px",n.style.top=d+"px";var h=u||a,f=getElementBehindPoint(n,t,s),v=R(f,t,s),y=null!==v&&v!==p;(y||null===v)&&(p&&b("out"),p=v,y&&b("over"));var _=getParent(h);if(v!==o||!u||m.copySortSource){var k,S=L(v,f);if(null!==S)k=A(v,S,t,s);else{if(!0!==m.revertOnSpill||u)return void(u&&_&&_.removeChild(h));k=l,v=o}(null===k&&y||k!==h&&k!==nextEl(h))&&(c=k,v.insertBefore(h,k),g.emit("shadow",h,v,o))}else _&&_.removeChild(h)}function b(e){g.emit(e,h,p,o)}}function L(e,t){for(var n=t;n!==e&&getParent(n)!==e;)n=getParent(n);return n===documentElement?null:n}function A(e,t,n,o){var a,r="horizontal"===m.direction;return t!==e?(a=t.getBoundingClientRect(),i(r?n>a.left+getRectWidth(a)/2:o>a.top+getRectHeight(a)/2)):function(){var t,a,i,s=e.children.length;for(t=0;t<s;t++){if(i=(a=e.children[t]).getBoundingClientRect(),r&&i.left+i.width/2>n)return a;if(!r&&i.top+i.height/2>o)return a}return null}();function i(e){return e?nextEl(t):t}}}function touchy(e,t,n,o){commonjsGlobal.navigator.pointerEnabled?crossvent[t](e,{mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"}[n],o):commonjsGlobal.navigator.msPointerEnabled?crossvent[t](e,{mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"}[n],o):(crossvent[t](e,{mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"}[n],o),crossvent[t](e,n,o))}function whichMouseButton(e){if(void 0!==e.touches)return e.touches.length;if(void 0!==e.which&&0!==e.which)return e.which;if(void 0!==e.buttons)return e.buttons;var t=e.button;return void 0!==t?1&t?1:2&t?3:4&t?2:0:void 0}function getOffset(e){var t=e.getBoundingClientRect();return{left:t.left+getScroll("scrollLeft","pageXOffset"),top:t.top+getScroll("scrollTop","pageYOffset")}}function getScroll(e,t){return void 0!==commonjsGlobal[t]?commonjsGlobal[t]:documentElement.clientHeight?documentElement[e]:doc$1.body[e]}function getElementBehindPoint(e,t,n){var o,a=e||{},r=a.className;return a.className+=" gu-hide",o=doc$1.elementFromPoint(t,n),a.className=r,o}function never(){return!1}function always(){return!0}function getRectWidth(e){return e.width||e.right-e.left}function getRectHeight(e){return e.height||e.bottom-e.top}function getParent(e){return e.parentNode===doc$1?null:e.parentNode}function isInput(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||isEditable(e)}function isEditable(e){return!!e&&"false"!==e.contentEditable&&("true"===e.contentEditable||isEditable(getParent(e)))}function nextEl(e){return e.nextElementSibling||function(){var t=e;do{t=t.nextSibling}while(t&&1!==t.nodeType);return t}()}function getEventHost(e){return e.targetTouches&&e.targetTouches.length?e.targetTouches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e}function getCoord(e,t){var n=getEventHost(t),o={pageX:"clientX",pageY:"clientY"};return e in o&&!(e in n)&&o[e]in n&&(e=o[e]),n[e]}var dragula_1=dragula;function ProcessDropEvent(e,t,n,o){var a=e.store.getState().siteRootUrl+"/api/v3.0/page/"+n+"/node/"+o+"/move",r=e.store.getState().recordId;r&&(a+="?recId="+r),axios$1.post(a,t,{headers:{"Content-Type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"}}).then(function(t){e.updatePageNodes(t.data),window.setTimeout(function(){e.addReloadNodeIds(e.nodesPendingReload),e.nodesPendingReload=new Array,window.setTimeout(function(){_.forEach(e.nodesPendingReload,function(t){var n=NodeUtils.GetNodeAndMeta(e,t),o=new Event("WvPbManager_Node_Moved"),a=new WvPbEventPayload;a.original_event=event,a.node=n.node,a.component_name=n.node.component_name,o.payload=a,document.dispatchEvent(o)});var t=NodeUtils.GetNodeAndMeta(e,o),n=new Event("WvPbManager_Node_Moved"),a=new WvPbEventPayload;a.original_event=event,a.node=t.node,a.component_name=t.node.component_name,n.payload=a,document.dispatchEvent(n);var r=document.querySelectorAll(".wv-container");_.forEach(r,function(e){e.removeAttribute("style")})},10)},10)}).catch(function(e){console.log(e),alert("An error occurred during the move"),location.reload(!0)})}function MoveAffectedNodesToStack(e,t){var n=new Array,o=e.store.getState().pageNodes;NodeUtils.GetChildNodes(t.originParentNodeId,t.originContainerId,o,n),NodeUtils.GetChildNodes(t.newParentNodeId,t.newContainerId,o,n),_.forEach(n,function(e){NodeUtils.MoveNodeToStack(e)}),e.nodesPendingReload=n}function ShowTooltop(e){for(var t=document.querySelectorAll(".wv-pb-content .actions"),n=t.length;n--;){var o=t[n];o.style.left=e.pageX+15+"px",o.style.top=e.pageY+25+"px"}}function RemoveNode$1(e){var t=NodeUtils.GetActiveNodeAndMeta(e),n=e.store.getState().siteRootUrl+"/api/v3.0/page/"+t.node.page_id+"/node/"+t.node.id+"/delete",o=e.store.getState().recordId;o&&(n+="?recId="+o),axios$1.post(n,null,{headers:{"Content-Type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"}}).then(function(){var n=new Event("WvPbManager_Node_Removed"),o=new WvPbEventPayload;o.original_event=event,o.node=t.node,o.component_name=t.node.component_name,n.payload=o,document.dispatchEvent(n),e.removeNode(e.store.getState().activeNodeId)}).catch(function(e){e.response?alert(e.response.statusText+":"+e.response.data):e.message?alert(e.message):alert(e)})}var WvPageManager=function(){function e(){this.libraryJson="[]",this.pageNodesJson="",this.nodesPendingReload=new Array,this.pageNodes=new Array}return e.prototype.componentWillLoad=function(){var e=JSON.parse(this.libraryJson),t=new Array;this.pageNodesJson&&(t=JSON.parse(this.pageNodesJson)),_.forEach(t,function(e){"object"!=typeof e.options&&(e.options=e.options?JSON.parse(e.options):{})});var n=new WvPbStore;n.library=e,n.pageNodes=t,n.siteRootUrl=this.siteRootUrl,n.pageId=this.pageId,n.recordId=this.recordId,_.forEach(e,function(e){n.componentMeta[e.name]=e}),this.store.setStore(configureStore(n)),this.store.mapStateToProps(this,function(e){return{pageNodes:e.pageNodes}}),this.store.mapDispatchToProps(this,{setDrake:setDrake,addReloadNodeIds:addReloadNodeIds,updatePageNodes:updatePageNodes,removeNode:removeNode});var o=this,a=dragula_1({revertOnSpill:!1,direction:"vertical"});a.on("drop",function(e,t,n){var a=0;_.forEach(e.parentElement.childNodes,function(t){if(t===e)return!1;a++});var r={originContainerId:n.getAttribute("data-container-id"),originParentNodeId:n.getAttribute("data-parent-id"),newContainerId:t.getAttribute("data-container-id"),newParentNodeId:t.getAttribute("data-parent-id"),newIndex:a},i=e.getAttribute("data-page-id"),s=e.getAttribute("data-node-id");MoveAffectedNodesToStack(o,r),ProcessDropEvent(o,r,i,s)}),a.on("drag",function(){var e=document.querySelectorAll(".wv-container");_.forEach(e,function(e){e.setAttribute("style","width:"+e.offsetWidth+"px")})}),o.setDrake(a)},e.prototype.handleMouseMove=function(e){ShowTooltop(e)},e.prototype.componentDidLoad=function(){var e=this;document.addEventListener("keydown",function(t){switch(t.key){case"Escape":var n=e.store.getState().drake;n.dragging&&n.cancel();break;case"Delete":var o=e.store.getState().activeNodeId,a=e.store.getState().isOptionsModalVisible,r=e.store.getState().isHelpModalVisible,i=e.store.getState().isCreateModalVisible;!o||a||r||i||window.confirm("Are you sure you wish to delete the selected component?")&&RemoveNode$1(e)}},!1)},e.prototype.render=function(){var e=this,t=[],n=this.store.getState().library;return h("div",{id:"wv-page-manager-wrapper"},h("div",{class:"row no-gutters"},h("div",{class:"col",style:{"overflow-x":"auto"}},h("div",{class:"wv-pb-content"},h("div",{class:"wb-pb-content-inner"},h("wv-pb-node-container",{"parent-node-id":null,containerId:""})))),h("div",{class:"col-auto",style:{width:"400px"}},h("wv-pb-inspector",null),h("wv-pb-tree",null))),this.pageNodes.map(function(o){var a=o.component_name;if(-1===_.findIndex(t,function(e){return e===a})){var r=_.findIndex(n,function(e){return e.name==a});if(r>-1)return n[r].service_js_url?(t.push(a),h("script",{key:o.id,src:e.siteRootUrl+n[r].service_js_url})):(console.info("Service not found for "+a),null)}return null}),h("div",{id:"wv-node-design-stack",class:"d-none"}),h("div",{id:"wv-node-options-stack",class:"d-none"}),h("div",{id:"wv-node-help-stack",class:"d-none"}),h("wv-create-modal",null),h("wv-help-modal",null),h("wv-options-modal",null))},Object.defineProperty(e,"is",{get:function(){return"wv-pb-manager"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{libraryJson:{type:String,attr:"library-json"},nodesPendingReload:{state:!0},pageId:{type:String,attr:"page-id"},pageNodes:{state:!0},pageNodesJson:{type:String,attr:"page-nodes-json"},recordId:{type:String,attr:"record-id"},siteRootUrl:{type:String,attr:"site-root-url"},store:{context:"store"}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"listeners",{get:function(){return[{name:"mousemove",method:"handleMouseMove",passive:!0}]},enumerable:!0,configurable:!0}),e}();function LoadTemplate(e){var t=NodeUtils.GetNodeAndMeta(e,e.nodeId),n=null;if(t){var o=e.store.getState().siteRootUrl+t.meta.design_view_url+"&nid="+t.node.id+"&pid="+t.node.page_id,a=e.store.getState().recordId;a&&(o+="&recId="+a);var r=t.node.options;e.isLoading=!0,axios$1.post(o,r,{headers:{"Content-Type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"}}).then(function(n){e.isLoading=!1;var o=document.getElementById("wv-node-"+e.nodeId),a=document.createElement("div");a.id="node-design-"+e.nodeId,a.classList.add("wv-pb-node"),a.innerHTML=n.data,o.appendChild(a),runScripts(a);var r=new Event("WvPbManager_Design_Loaded"),i=new WvPbEventPayload;i.node=t.node,i.component_name=t.node.component_name,r.payload=i,document.dispatchEvent(r)}).catch(function(t){if(n=t.response?t.response.data?t.response.data:t.response.statusText:t.message?t.message:t){var o=document.getElementById("wv-node-"+e.nodeId),a=document.createElement("div");a.classList.add("alert"),a.classList.add("alert-danger"),a.classList.add("m-1"),a.classList.add("p-1"),a.innerHTML=n,o.appendChild(a),e.isLoading=!1}})}}var WvNode=function(){function e(){this.isLoading=!1,this.reloadNodeIdList=new Array}return e.prototype.componentWillLoad=function(){this.nodeId&&(this.store.mapStateToProps(this,function(e){return{reloadNodeIdList:e.reloadNodeIdList}}),this.store.mapDispatchToProps(this,{removeReloadNodeIds:removeReloadNodeIds}))},e.prototype.nodeIndexUpdateHandler=function(e){var t=this;_.findIndex(e,function(e){return e===t.nodeId})>-1&&(t.el.parentElement.classList.contains("gu-mirror")||(NodeUtils.GetNodeFromStack(t.nodeId)||LoadTemplate(t),t&&"function"==typeof t.removeReloadNodeIds&&t.removeReloadNodeIds(t.nodeId)))},e.prototype.render=function(){return this.el.parentElement.classList.contains("gu-mirror")?null:this.isLoading?h("wv-loading-pane",null):null},Object.defineProperty(e,"is",{get:function(){return"wv-pb-node"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{el:{elementRef:!0},isLoading:{state:!0},nodeId:{type:String,attr:"node-id"},reloadNodeIdList:{state:!0,watchCallbacks:["nodeIndexUpdateHandler"]},store:{context:"store"}}},enumerable:!0,configurable:!0}),e}(),guid=function(){function e(){}return e.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},e}();function GetContainerNodes(e,t,n){var o=new Array;return _.forEach(n,function(n){e||n.parent_id?e&&n.parent_id&&e.toLowerCase()===n.parent_id.toLowerCase()&&(t||n.container_id?t&&n.container_id&&t.toLowerCase()===n.container_id.toLowerCase()&&o.push(n):o.push(n)):t||n.container_id?t&&n.container_id&&t.toLowerCase()===n.container_id.toLowerCase()&&o.push(n):o.push(n)}),_.sortBy(o,["weight"])}var WvContainer=function(){function e(){this.containerId=null,this.parentNodeId=null}return e.prototype.componentWillLoad=function(){this.store.mapStateToProps(this,function(e){return{activeNodeId:e.activeNodeId,hoveredNodeId:e.hoveredNodeId,hoveredContainerId:e.hoveredContainerId,pageNodeChangeIndex:e.pageNodeChangeIndex}}),this.store.mapDispatchToProps(this,{addDrakeContainerId:addDrakeContainerId,hoverContainer:hoverContainer,hoverNode:hoverNode,setActiveNode:setActiveNode,setNodeCreation:setNodeCreation,addReloadNodeIds:addReloadNodeIds})},e.prototype.componentDidLoad=function(){this.addDrakeContainerId("wv-container-"+this.parentNodeId+"-"+this.containerId);var e=GetContainerNodes(this.parentNodeId,this.containerId,this.store.getState().pageNodes),t=new Array;_.forEach(e,function(e){t.push(e.id)}),this.addReloadNodeIds(t)},e.prototype.pageNodeIndexChangeHandler=function(){var e="wv-container-"+this.parentNodeId+"-"+this.containerId,t=document.getElementById(e);if(t){var n=this.store.getState().drake;-1==_.findIndex(n.containers,function(t){return t.id===e})&&n.containers.push(t)}},e.prototype.hoverContainerHandler=function(e){e.preventDefault(),e.stopPropagation(),this.hoverContainer("wv-container-"+this.parentNodeId+"-"+this.containerId)},e.prototype.unhoverContainerHandler=function(e){e.preventDefault(),e.stopPropagation();var t=e.target.parentNode.closest(".wv-pb-node.hovarable");if(t){var n=t.attributes["data-node-id"];n&&this.hoverNode(n.value)}else this.hoverContainer(null)},e.prototype.nodeClickHandler=function(e,t){e.preventDefault(),e.stopPropagation(),this.setActiveNode(t)},e.prototype.hoverNodeHandler=function(e){e.preventDefault(),e.stopPropagation();var t=e.target.getAttribute("data-node-id");this.hoverNode(t)},e.prototype.unhoverNodeHandler=function(e){e.preventDefault(),e.stopPropagation();var t=e.target.parentNode.closest(".wv-container-inner.hovarable");if(t){var n=t.attributes["data-container-id"];n&&this.hoverContainer(n.value)}else this.hoverNode(null)},e.prototype.addNodeHandler=function(e){e.preventDefault(),e.stopPropagation();var t=0,n=GetContainerNodes(this.parentNodeId,this.containerId,this.store.getState().pageNodes);_.forEach(n,function(e){e.weight>t&&(t=e.weight)});var o={id:guid.newGuid(),container_id:this.containerId,parent_id:this.parentNodeId,weight:t+1,page_id:this.store.getState().pageId,component_name:null,node_id:null,options:{},nodes:[]};this.setNodeCreation(o)},e.prototype.render=function(){var e=this,t=this,n=GetContainerNodes(t.parentNodeId,t.containerId,t.store.getState().pageNodes),o="wv-container-"+t.parentNodeId+"-"+t.containerId,a="";t.containerId||(a+=" first"),t.hoveredContainerId==o&&(a+=" hovered"),0===n.length&&(a+=" empty");var r=t.store.getState().componentMeta;return h("div",{class:"wv-container-inner hovarable "+a,onClick:function(t){return e.addNodeHandler(t)},onMouseEnter:function(e){return t.hoverContainerHandler(e)},onMouseLeave:function(e){return t.unhoverContainerHandler(e)},"data-container-id":o},h("div",{class:"actions"},h("i",{class:"fa fa-plus go-green"})," add in ",t.containerId),h("div",{class:"wv-container",id:o,"data-parent-id":t.parentNodeId,"data-container-id":t.containerId},n.map(function(e){var n="";return t.activeNodeId&&e.id===t.activeNodeId&&(n+=" selected"),t.hoveredNodeId&&e.id===t.hoveredNodeId&&!t.hoveredContainerId&&(n+=" hovered"),r[e.component_name].is_inline&&(n+=" d-inline-block"),h("div",{key:e.id,id:"wv-node-"+e.id,class:"wv-node-wrapper draggable-node hovarable "+n,"data-node-id":e.id,"data-page-id":e.page_id,onClick:function(n){return t.nodeClickHandler(n,e.id)},onMouseEnter:function(e){return t.hoverNodeHandler(e)},onMouseLeave:function(e){return t.unhoverNodeHandler(e)}},h("div",{class:"actions"},h("i",{class:"fa fa-search go-blue"})," select ",r[e.component_name].label),h("wv-pb-node",{nodeId:e.id}))})))},Object.defineProperty(e,"is",{get:function(){return"wv-pb-node-container"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{activeNodeId:{state:!0},containerId:{type:String,attr:"container-id"},hoveredContainerId:{state:!0},hoveredNodeId:{state:!0},pageNodeChangeIndex:{state:!0,watchCallbacks:["pageNodeIndexChangeHandler"]},parentNodeId:{type:String,attr:"parent-node-id"},store:{context:"store"}}},enumerable:!0,configurable:!0}),e}(),WvCreateModal$3=function(){function e(){this.nodeId="",this.isHelpModalVisible=!1}return e.prototype.componentWillLoad=function(){this.store.mapStateToProps(this,function(e){return{isHelpModalVisible:e.isHelpModalVisible}});var e=document.getElementById("node-help-"+this.nodeId),t=document.getElementById("modal-component-help-body");e&&t.appendChild(e)},e.prototype.helpModalVisibilityHandler=function(e,t){if(!e&&t){var n=document.getElementById("wv-node-help-stack"),o=document.getElementById("node-help-"+this.nodeId);o&&n.appendChild(o)}},e.prototype.render=function(){return null},Object.defineProperty(e,"is",{get:function(){return"wv-show-help"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{isHelpModalVisible:{state:!0,watchCallbacks:["helpModalVisibilityHandler"]},nodeId:{type:String,attr:"node-id"},store:{context:"store"}}},enumerable:!0,configurable:!0}),e}(),WvCreateModal$4=function(){function e(){this.nodeId="",this.isOptionsModalVisible=!1}return e.prototype.componentWillLoad=function(){this.store.mapStateToProps(this,function(e){return{isOptionsModalVisible:e.isOptionsModalVisible}});var e=document.getElementById("node-options-"+this.nodeId),t=document.getElementById("modal-component-options-body");e&&t.appendChild(e)},e.prototype.optionsModalVisibilityHandler=function(e,t){if(!e&&t){var n=document.getElementById("wv-node-options-stack"),o=document.getElementById("node-options-"+this.nodeId);o&&n.appendChild(o)}},e.prototype.render=function(){return null},Object.defineProperty(e,"is",{get:function(){return"wv-show-options"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{isOptionsModalVisible:{state:!0,watchCallbacks:["optionsModalVisibilityHandler"]},nodeId:{type:String,attr:"node-id"},store:{context:"store"}}},enumerable:!0,configurable:!0}),e}();export{WvCreateModal,WvCreateModal$1 as WvHelpModal,WvLoadingPane,WvCreateModal$2 as WvOptionsModal,WvPbInspector,WvPageManager as WvPbManager,WvNode as WvPbNode,WvContainer as WvPbNodeContainer,WvCreateModal$3 as WvShowHelp,WvCreateModal$4 as WvShowOptions};